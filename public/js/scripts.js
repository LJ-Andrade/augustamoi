!function(e){var o={};function a(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=o,a.d=function(e,o,t){a.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:t})},a.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(o,"a",o),o},a.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},a.p="/",a(a.s=60)}({60:function(e,o,a){e.exports=a(61)},61:function(e,o){function a(e,o){$(".TotalCartItems").html(e),$(".CartSubTotal").html(o),$("#SideContainerItemsFixed").load(window.location.href+" #SideContainerItemsFixed"),$("#SideContainerItemsFloating").load(window.location.href+" #SideContainerItemsFloating"),$(".TotalCartItemsSidebar").load(window.location.href+" .TotalCartItemsSidebar"),$(".AvailableStock").load(window.location.href+" .AvailableStock")}$("#navfull-top-btn, #navfull-bottom-btn").click(function(){toggleNav()}),window.toggleNav=function(){var e=$(".MobileNavigation"),o=$("body"),a=$("#navfull-top-btn"),t=$("#navfull-bottom-btn"),n=$(".content-effect");e.hasClass("navfull-active")?(e.removeClass("navfull-active"),a.removeClass("navfull-top-active"),t.removeClass("navfull-bottom-active"),o.css("overflow","auto"),n.hide()):(e.addClass("navfull-active"),a.addClass("navfull-top-active"),t.addClass("navfull-bottom-active"),o.css("overflow","hidden"),n.fadeIn(500))},$(".loader-on-change").on("change",function(){return $("#full-loader").removeClass("Hidden"),!0}),$(".loader-on-submit").on("submit",function(){return $("#full-loader").removeClass("Hidden"),!0}),$(".dont-submit-on-enter, .dson").keypress(function(e){if(console.log("ENTER"),13==e.which)return!1;13==e.which&&e.preventDefault()}),window.loaderBars=function(e){var o=$("#LoaderBars");e?o.removeClass("Hidden"):o.addClass("Hidden")},window.collapseFilter=function(e){var o=e.siblings("ul");o.hasClass("collapsed")?(o.removeClass("collapsed"),o.show(100),e.html("-")):(o.addClass("collapsed"),o.hide(100),e.html("+"))},$(".InputBtnQ").on("change keyup",function(){var e=$(this).siblings(".ArticlePrice").val(),o=$(this).val(),a=e*o,t=$(this).parent().parent().parent().siblings(".TotalItemPrice");console.log(e,o,a),function(e,o,a){e.siblings(".InputBtnQ").removeClass("Hidden"),o.html("$ "+a)}($(this),t,a)}),$("#MainOverlay").click(function(){checkoutSidebar("hide")}),window.checkoutSidebar=function(e){var o=$(".CheckoutCart"),a=$(".main-wrapper"),t=function(){o.addClass("active"),a.addClass("allow-sidebar")},n=function(){o.removeClass("active"),a.removeClass("allow-sidebar")};if(void 0==e)o.hasClass("active")?n():t();else{if("show"==e)return t(),!1;if("hide"==e)return n(),!1}},window.openCheckoutDesktop=function(){return $(window).width()>768&&checkoutSidebar("show"),!1},window.openFilters=function(){var e=$("#SearchFilters"),o=$("#SearchFiltersTrigger");e.hasClass("active")?(e.removeClass("active"),o.show()):(e.addClass("active"),o.hide())},window.sumAllItems=function(){sum=0,$(".TotalItemPrice").each(function(e){sum+=parseInt($(this).html())}),$(".SubTotal").html(sum)},window.sumDivs=function(e,o){var a=0;e.each(function(){a+=parseFloat($(this).text())}),o.text(a)},window.checkVariantStock=function(){var e=$("#AddToCartForm"),o=e.serialize(),a=!1,t=$("#AddToCartFormBtn");return $.ajax({url:e.data("route"),method:"GET",dataType:"JSON",async:!1,data:o,success:function(e){1==e.response?("0"==e.message?($(".AvailableStock").html("No hay stock disponible"),t.prop("disabled",!0)):($(".AvailableStock").html("Stock disponible: "+e.message),t.prop("disabled",!1),a=!0),$("#MaxQuantity").prop("max",e.message)):($(".AvailableStock").html(e.message),t.prop("disabled",!0))},error:function(e){$("#Error").html(e.responseText),location.reload(),a=!1,t.prop("disabled",!0),console.log(e),console.log("Entro en error 2")}}),a},window.setItemsData=function(){itemData=[],$(".Item-Data").each(function(){var e=$(this).data("id"),o=$(this).data("price"),a=$(this).data("variant"),t=$(this).val();item={},item.id=e,item.variant_id=a,item.price=o,item.quantity=t,total=o*t,$("."+e+"-TotalItemPrice").html(total),itemData.push(item)}),sumAllItems(),$("#Items-Data").val(itemData)},window.addToCart=function(e,o){loaderBars(!0),$.ajax({url:e,method:"POST",dataType:"JSON",data:o,success:function(e){"success"==e.response?($(".AvailableStock").html("Stock disponible: "+e.newStock),toast_success("Ok!",e.message,"bottomCenter","",2500),a(e.totalCartItems,e.cartSubTotal),setItemsData(),setTimeout(function(){setItemsData(),sumAllItems()},100)):"warning"==e.response&&toast_success("Ups!",e.message,"bottomCenter")},error:function(e){console.log("Error en addtoCart()"),console.log(e)},complete:function(){loaderBars(!1)}})},window.removeFromCart=function(e,o,t,n,s,r){loaderBars(!0),$.ajax({url:e,method:"POST",dataType:"JSON",data:{cartItemId:o,variantId:t,quantity:n,action:r,method:"ajax"},success:function(e){"cart-removed"==e.response?(a(e.totalCartItems,e.cartSubTotal),window.location=window.location.href.split("?")[0],setItemsData()):"success"==e.response&&($(s).hide(100),$(s).remove(),a(e.totalCartItems,e.cartSubTotal),setItemsData())},error:function(e){$("#Error").html(e.responseText),console.log("Error en removeFromCart()"),console.log(e)},complete:function(){loaderBars(!1)}})},window.submitCartToCheckout=function(e,o,a,t){$.ajax({url:e,method:"POST",dataType:"JSON",data:{data:a,action:t},success:function(e){console.log(e),"success"==e.response?"reload"==o||(window.location.href=o):(console.log("Error en submitForm"),console.log(e),toast_error("",e.message,"bottomCenter",""),$(".SideContainerError").html(e.message))},error:function(e){console.log("Error en submitForm()"),console.log(e)}})},window.validateAndSetCoupon=function(e,o,a){var t=$("#CouponDiv"),n=$("#SettedCoupon");console.log(o,a),$.ajax({url:e,method:"POST",dataType:"JSON",data:{code:o,cartid:a},beforeSend:function(){console.log("Comprobando cupón..."),$(".CouponLoader").removeClass("Hidden")},success:function(e){1==e.response?($("#CouponValidationMessage").html("Cupón aceptado !"),t.hide(200,function(){n.removeClass("Hidden")}),location.reload()):null==e.response&&$("#CouponValidationMessage").html(e.message)},error:function(e){$("#CouponValidationMessage").html(e.responseText),console.log(e)},complete:function(){$(".CouponLoader").addClass("Hidden")}})},window.addArticleToFavs=function(e,o,a,t,n){$.ajax({url:e,method:"POST",dataType:"JSON",data:{fav_id:o,article_id:a},success:function(e){if(1==e.response&&"added"==e.result)switch(t){case"reload":location.reload();break;case"show":n.removeClass("fav-icon-nofav"),n.addClass("fav-icon-isfav"),toast_success('<i class="fas fa-check"></i>',"Producto agregado a favoritos","bottomCenter","",122e3);break;case"none":console.log("Actualizado - Sin Acción");default:console.log("No hay acción")}else 1==e.response&&"removed"==e.result&&(n.addClass("fav-icon-nofav"),n.removeClass("fav-icon-isfav"),toast_success('<i class="fas fa-times"></i>',"Producto eliminado de favoritos","bottomCenter","",1e3));var o;(o=e.favsCount)>0?($(".FavMainIcon").removeClass("far"),$(".FavMainIcon").addClass("fa")):0==o?($(".FavMainIcon").removeClass("fa"),$(".FavMainIcon").addClass("far")):($(".FavMainIcon").removeClass("fa"),$(".FavMainIcon").removeClass("far"),$(".FavMainIcon").addClass("fa"),console.log("Error en setFavsTotalIcon()"))},error:function(e){$("#Error").html(e.responseText),console.log(e)}})},window.removeArticleFromFavs=function(e,o,a){var t=a;$.ajax({url:e,method:"POST",dataType:"JSON",data:{fav_id:o},success:function(e){if($("#Error").html(e.responseText),console.log(e),1==e.response)switch(console.log(t),t){case"reload":toast_success("Ok!","Producto eliminado de favoritos","bottomCenter","reload",1e3);break;default:console.log("No hay acción")}else console.log(e)},error:function(e){console.log(e)}})},window.removeAllArticlesFromFavs=function(e,o,a){$.ajax({url:e,method:"POST",dataType:"JSON",data:{customer_id:o},success:function(e){if(console.log(e),1==e.response)switch(a){case"reload":location.reload();break;default:console.log("No hay acción")}else $("#Error").html(e.message.errorInfo),console.log(e)},error:function(e){console.log(e)}})},$("#ResellerBox").hide(),window.openResellerRegistration=function(){$("#IsResellerCheckbox").prop("checked",!0),$(".IfResellerEnable").prop("disabled",!1),$("#ResellerBox").show(100),$("#ResellerCTA").hide(0),$(".NormaClientTitle").hide(0),$(".ResellerTitle").show(0)},window.closeResellerRegistration=function(){$("#IsResellerCheckbox").prop("checked",!1),$(".IfResellerEnable").prop("disabled",!0),$("#ResellerBox").hide(0),$("#ResellerCTA").show(100),$(".NormaClientTitle").show(0),$(".ResellerTitle").hide(0)},$(document).ready(function(){$(".GeoProvSelect").on("change",function(){var e=$(this).val();getGeoLocs(e)})}),window.closeElement=function(e){$(e).hide(100)},window.getParam=function(e){var o=null,a=[];return location.search.substr(1).split("&").forEach(function(t){(a=t.split("="))[0]===e&&(o=decodeURIComponent(a[1]))}),o},window.getParams=function(e){var o={},a=document.createElement("a");a.href=e;for(var t=a.search.substring(1).split("&"),n=0;n<t.length;n++){var s=t[n].split("=");o[s[0]]=decodeURIComponent(s[1])}return o}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgODFlYjFiNmZjY2U1ZDc4MWIxMjUiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2Fzc2V0cy9qcy9zdG9yZS9zY3JpcHRzLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ1cGRhdGVUb3RhbHMiLCJ0b3RhbENhcnRJdGVtcyIsImNhcnRTdWJ0b3RhbCIsIiQiLCJodG1sIiwibG9hZCIsIndpbmRvdyIsImxvY2F0aW9uIiwiaHJlZiIsImNsaWNrIiwidG9nZ2xlTmF2IiwibmF2IiwiYm9keSIsInRyaWdnZXIiLCJib3R0b21UcmlnZ2VyIiwiY29udGVudFRleHQiLCJoYXNDbGFzcyIsInJlbW92ZUNsYXNzIiwiY3NzIiwiaGlkZSIsImFkZENsYXNzIiwiZmFkZUluIiwib24iLCJrZXlwcmVzcyIsImUiLCJjb25zb2xlIiwibG9nIiwid2hpY2giLCJwcmV2ZW50RGVmYXVsdCIsImxvYWRlckJhcnMiLCJhY3Rpb24iLCJsb2FkZXIiLCJjb2xsYXBzZUZpbHRlciIsImVsZW0iLCJmaWx0ZXIiLCJzaWJsaW5ncyIsInNob3ciLCJ2YWx1ZSIsInRoaXMiLCJ2YWwiLCJxdWFudGl0eSIsIm5ld1ZhbHVlIiwibmV3UHJpY2VUYXJnZXQiLCJwYXJlbnQiLCJtb2RpZnlDYXJ0SXRlbVEiLCJjaGVja291dFNpZGViYXIiLCJzdGF0ZSIsInNpZGViYXIiLCJ3cmFwcGVyIiwidW5kZWZpbmVkIiwib3BlbkNoZWNrb3V0RGVza3RvcCIsIndpZHRoIiwib3BlbkZpbHRlcnMiLCJmaWx0ZXJzIiwic3VtQWxsSXRlbXMiLCJzdW0iLCJlYWNoIiwiaW5kZXgiLCJwYXJzZUludCIsInN1bURpdnMiLCJvcmlnaW5zIiwidGFyZ2V0IiwicGFyc2VGbG9hdCIsInRleHQiLCJjaGVja1ZhcmlhbnRTdG9jayIsImZvcm0iLCJkYXRhIiwic2VyaWFsaXplIiwiYWxsb3dTdWJtaXQiLCJzdWJtaXRCdXR0b24iLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZGF0YVR5cGUiLCJhc3luYyIsInN1Y2Nlc3MiLCJyZXNwb25zZSIsIm1lc3NhZ2UiLCJwcm9wIiwiZXJyb3IiLCJyZXNwb25zZVRleHQiLCJyZWxvYWQiLCJzZXRJdGVtc0RhdGEiLCJpdGVtRGF0YSIsImlkIiwicHJpY2UiLCJ2YXJpYW50X2lkIiwiaXRlbSIsInRvdGFsIiwicHVzaCIsImFkZFRvQ2FydCIsInJvdXRlIiwibmV3U3RvY2siLCJ0b2FzdF9zdWNjZXNzIiwiY2FydFN1YlRvdGFsIiwic2V0VGltZW91dCIsImNvbXBsZXRlIiwicmVtb3ZlRnJvbUNhcnQiLCJjYXJ0SXRlbUlkIiwidmFyaWFudElkIiwiZGl2Iiwic3BsaXQiLCJyZW1vdmUiLCJzdWJtaXRDYXJ0VG9DaGVja291dCIsInRvYXN0X2Vycm9yIiwidmFsaWRhdGVBbmRTZXRDb3Vwb24iLCJjb2RlIiwiY2FydGlkIiwiY291cG9uRGl2IiwiY291cG9uU2V0IiwiYmVmb3JlU2VuZCIsImFkZEFydGljbGVUb0ZhdnMiLCJmYXZpZCIsImFydGljbGVpZCIsImRpc3BsYXlCdXR0b24iLCJmYXZfaWQiLCJhcnRpY2xlX2lkIiwicmVzdWx0IiwiZmF2cyIsImZhdnNDb3VudCIsInJlbW92ZUFydGljbGVGcm9tRmF2cyIsImRvYWN0aW9uIiwicmVtb3ZlQWxsQXJ0aWNsZXNGcm9tRmF2cyIsImN1c3RvbWVyaWQiLCJjdXN0b21lcl9pZCIsIm9wZW5SZXNlbGxlclJlZ2lzdHJhdGlvbiIsImNsb3NlUmVzZWxsZXJSZWdpc3RyYXRpb24iLCJkb2N1bWVudCIsInJlYWR5IiwicHJvdl9pZCIsImdldEdlb0xvY3MiLCJjbG9zZUVsZW1lbnQiLCJzZWxlY3RvciIsImdldFBhcmFtIiwicGFyYW1ldGVyTmFtZSIsInRtcCIsInNlYXJjaCIsInN1YnN0ciIsImZvckVhY2giLCJkZWNvZGVVUklDb21wb25lbnQiLCJnZXRQYXJhbXMiLCJwYXJhbXMiLCJwYXJzZXIiLCJjcmVhdGVFbGVtZW50IiwidmFycyIsInN1YnN0cmluZyIsImxlbmd0aCIsInBhaXIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWhCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQWlCLFdBQ0EsV0FBMkIsT0FBQWpCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFRLEVBQUFDLEdBQXNELE9BQUFSLE9BQUFTLFVBQUFDLGVBQUFqQixLQUFBYyxFQUFBQyxJQUd0RHRCLEVBQUF5QixFQUFBLElBR0F6QixJQUFBMEIsRUFBQSwyRENtU0EsU0FBU0MsRUFBYUMsRUFBZ0JDLEdBR2xDQyxFQUFFLG1CQUFtQkMsS0FBS0gsR0FDMUJFLEVBQUUsaUJBQWlCQyxLQUFLRixHQUN4QkMsRUFBRSw0QkFBNEJFLEtBQUtDLE9BQU9DLFNBQVNDLEtBQU8sNkJBQzFETCxFQUFFLCtCQUErQkUsS0FBS0MsT0FBT0MsU0FBU0MsS0FBTyxnQ0FDN0RMLEVBQUUsMEJBQTBCRSxLQUFLQyxPQUFPQyxTQUFTQyxLQUFPLDJCQUN4REwsRUFBRSxtQkFBbUJFLEtBQUtDLE9BQU9DLFNBQVNDLEtBQU8sb0JBbldyREwsRUFBRSx5Q0FBeUNNLE1BQU0sV0FDN0NDLGNBR0pKLE9BQU9JLFVBQVksV0FFZixJQUFNQyxFQUFNUixFQUFFLHFCQUNSUyxFQUFPVCxFQUFFLFFBQ1RVLEVBQVVWLEVBQUUsb0JBQ1pXLEVBQWdCWCxFQUFFLHVCQUNsQlksRUFBY1osRUFBRSxtQkFFbkJRLEVBQUlLLFNBQVMsbUJBRVpMLEVBQUlNLFlBQVksa0JBQ2hCSixFQUFRSSxZQUFZLHNCQUNwQkgsRUFBY0csWUFBWSx5QkFDMUJMLEVBQUtNLElBQUksV0FBVyxRQUNwQkgsRUFBWUksU0FFWlIsRUFBSVMsU0FBUyxrQkFDYlAsRUFBUU8sU0FBUyxzQkFDakJOLEVBQWNNLFNBQVMseUJBQ3ZCUixFQUFLTSxJQUFJLFdBQVcsVUFDcEJILEVBQVlNLE9BQU8sT0FPM0JsQixFQUFFLHFCQUFxQm1CLEdBQUcsU0FBVSxXQUVoQyxPQURBbkIsRUFBRSxnQkFBZ0JjLFlBQVksV0FDdkIsSUFHWGQsRUFBRSxxQkFBcUJtQixHQUFHLFNBQVUsV0FFaEMsT0FEQW5CLEVBQUUsZ0JBQWdCYyxZQUFZLFdBQ3ZCLElBR1hkLEVBQUUsZ0NBQWdDb0IsU0FBUyxTQUFVQyxHQUVqRCxHQURBQyxRQUFRQyxJQUFJLFNBQ0csSUFBWEYsRUFBRUcsTUFBYSxPQUFPLEVBQ1gsSUFBWEgsRUFBRUcsT0FBYUgsRUFBRUksbUJBR3pCdEIsT0FBT3VCLFdBQWEsU0FBVUMsR0FFMUIsSUFBTUMsRUFBUzVCLEVBQUUsZUFFZDJCLEVBQ0NDLEVBQU9kLFlBQVksVUFFbkJjLEVBQU9YLFNBQVMsV0FReEJkLE9BQU8wQixlQUFpQixTQUFTQyxHQUM3QixJQUFNQyxFQUFTRCxFQUFLRSxTQUFTLE1BQzFCRCxFQUFPbEIsU0FBUyxjQUVma0IsRUFBT2pCLFlBQVksYUFDbkJpQixFQUFPRSxLQUFLLEtBQ1pILEVBQUs3QixLQUFLLE9BSVY4QixFQUFPZCxTQUFTLGFBQ2hCYyxFQUFPZixLQUFLLEtBQ1pjLEVBQUs3QixLQUFLLE9BT2xCRCxFQUFFLGNBQWNtQixHQUFHLGVBQWdCLFdBRS9CLElBQUllLEVBQVFsQyxFQUFFbUMsTUFBTUgsU0FBUyxpQkFBaUJJLE1BRTFDQyxFQUFXckMsRUFBRW1DLE1BQU1DLE1BRW5CRSxFQUFZSixFQUFRRyxFQUVwQkUsRUFBaUJ2QyxFQUFFbUMsTUFBTUssU0FBU0EsU0FBU0EsU0FBU1IsU0FBUyxtQkFFakVWLFFBQVFDLElBQUlXLEVBQU9HLEVBQVVDLEdBSWpDLFNBQXlCakIsRUFBR2tCLEVBQWdCRCxHQUN4Q2pCLEVBQUVXLFNBQVMsY0FBY2xCLFlBQVksVUFDckN5QixFQUFldEMsS0FBSyxLQUFPcUMsR0FMM0JHLENBQWdCekMsRUFBRW1DLE1BQU9JLEVBQWdCRCxLQVM3Q3RDLEVBQUUsZ0JBQWdCTSxNQUFNLFdBQ3BCb0MsZ0JBQWdCLFVBSXBCdkMsT0FBT3VDLGdCQUFrQixTQUFVQyxHQUUvQixJQUFNQyxFQUFVNUMsRUFBRSxpQkFDWjZDLEVBQVU3QyxFQUFFLGlCQUVaaUMsRUFBTyxXQUNUVyxFQUFRM0IsU0FBUyxVQUNqQjRCLEVBQVE1QixTQUFTLGtCQUdmRCxFQUFPLFdBQ1Q0QixFQUFROUIsWUFBWSxVQUNwQitCLEVBQVEvQixZQUFZLGtCQUl4QixRQUFhZ0MsR0FBVEgsRUFDSUMsRUFBUS9CLFNBQVMsVUFDakJHLElBRUFpQixRQUVELElBQWEsUUFBVFUsRUFFUCxPQURBVixLQUNPLEVBQ0osR0FBYSxRQUFUVSxFQUVQLE9BREEzQixLQUNPLElBTWZiLE9BQU80QyxvQkFBc0IsV0FLekIsT0FISS9DLEVBQUVHLFFBQVE2QyxRQUFVLEtBQ3BCTixnQkFBZ0IsU0FFYixHQUdYdkMsT0FBTzhDLFlBQWMsV0FDakIsSUFBTUMsRUFBVWxELEVBQUUsa0JBQ1pVLEVBQVVWLEVBQUUseUJBQ2ZrRCxFQUFRckMsU0FBUyxXQUVoQnFDLEVBQVFwQyxZQUFZLFVBQ3BCSixFQUFRdUIsU0FJUmlCLEVBQVFqQyxTQUFTLFVBQ2pCUCxFQUFRTSxTQWFoQmIsT0FBT2dELFlBQWMsV0FDakJDLElBQU0sRUFDTnBELEVBQUUsbUJBQW1CcUQsS0FBSyxTQUFVQyxHQUNoQ0YsS0FBT0csU0FBU3ZELEVBQUVtQyxNQUFNbEMsVUFFNUJELEVBQUUsYUFBYUMsS0FBS21ELE1BS3hCakQsT0FBT3FELFFBQVUsU0FBVUMsRUFBU0MsR0FDaEMsSUFBSU4sRUFBTSxFQUNWSyxFQUFRSixLQUFLLFdBQ1RELEdBQU9PLFdBQVczRCxFQUFFbUMsTUFBTXlCLFVBRTlCRixFQUFPRSxLQUFLUixJQU1oQmpELE9BQU8wRCxrQkFBb0IsV0FDdkIsSUFBSUMsRUFBTzlELEVBQUUsa0JBQ1QrRCxFQUFPRCxFQUFLRSxZQUNaQyxHQUFjLEVBQ2RDLEVBQWdCbEUsRUFBRSxxQkEwQ3RCLE9BekNBQSxFQUFFbUUsTUFDRUMsSUFBS04sRUFBS0MsS0FBSyxTQUNmTSxPQUFRLE1BQ1JDLFNBQVUsT0FDVkMsT0FBTyxFQUNQUixLQUFNQSxFQUNOUyxRQUFTLFNBQVVULEdBQ0ssR0FBakJBLEVBQUtVLFVBRWUsS0FBaEJWLEVBQUtXLFNBRUExRSxFQUFFLG1CQUFtQkMsS0FBSywyQkFDMUJpRSxFQUFhUyxLQUFLLFlBQVksS0FLOUIzRSxFQUFFLG1CQUFtQkMsS0FBSyxxQkFBdUI4RCxFQUFLVyxTQUN0RFIsRUFBYVMsS0FBSyxZQUFZLEdBQzlCVixHQUFjLEdBR3RCakUsRUFBRSxnQkFBZ0IyRSxLQUFLLE1BQU9aLEVBQUtXLFdBTW5DMUUsRUFBRSxtQkFBbUJDLEtBQUs4RCxFQUFLVyxTQUMvQlIsRUFBYVMsS0FBSyxZQUFZLEtBR3RDQyxNQUFPLFNBQVViLEdBQ2IvRCxFQUFFLFVBQVVDLEtBQUs4RCxFQUFLYyxjQUN0QnpFLFNBQVMwRSxTQUNUYixHQUFjLEVBQ2RDLEVBQWFTLEtBQUssWUFBWSxHQUM5QnJELFFBQVFDLElBQUl3QyxHQUNaekMsUUFBUUMsSUFBSSx1QkFHYjBDLEdBS1g5RCxPQUFPNEUsYUFBZSxXQUNsQkMsWUFFQWhGLEVBQUUsY0FBY3FELEtBQUssV0FDakIsSUFBSTRCLEVBQUtqRixFQUFFbUMsTUFBTTRCLEtBQUssTUFDbEJtQixFQUFRbEYsRUFBRW1DLE1BQU00QixLQUFLLFNBQ3JCb0IsRUFBYW5GLEVBQUVtQyxNQUFNNEIsS0FBSyxXQUMxQjFCLEVBQVdyQyxFQUFFbUMsTUFBTUMsTUFFdkJnRCxRQUNBQSxLQUFBLEdBQWFILEVBQ2JHLEtBQUEsV0FBcUJELEVBQ3JCQyxLQUFBLE1BQWdCRixFQUNoQkUsS0FBQSxTQUFtQi9DLEVBRW5CZ0QsTUFBUUgsRUFBUTdDLEVBQ2hCckMsRUFBRSxJQUFNaUYsRUFBSyxtQkFBbUJoRixLQUFLb0YsT0FFckNMLFNBQVNNLEtBQUtGLFFBSWxCakMsY0FDQW5ELEVBQUUsZUFBZW9DLElBQUk0QyxXQUt6QjdFLE9BQU9vRixVQUFZLFNBQVVDLEVBQU96QixHQUVoQ3JDLFlBQVcsR0FFWDFCLEVBQUVtRSxNQUNFQyxJQUFLb0IsRUFDTG5CLE9BQVEsT0FDUkMsU0FBVSxPQUNWUCxLQUFNQSxFQUNOUyxRQUFTLFNBQVVULEdBRU0sV0FBakJBLEVBQUtVLFVBRUx6RSxFQUFFLG1CQUFtQkMsS0FBSyxxQkFBdUI4RCxFQUFLMEIsVUFDdERDLGNBQWMsTUFBTzNCLEVBQUtXLFFBQVMsZUFBZ0IsR0FBSSxNQUN2RDdFLEVBQWFrRSxFQUFLakUsZUFBZ0JpRSxFQUFLNEIsY0FDdkNaLGVBQ0FhLFdBQVcsV0FDUGIsZUFDQTVCLGVBRUQsTUFDcUIsV0FBakJZLEVBQUtVLFVBQ1ppQixjQUFjLE9BQVEzQixFQUFLVyxRQUFTLGlCQUc1Q0UsTUFBTyxTQUFVYixHQUViekMsUUFBUUMsSUFBSSx3QkFFWkQsUUFBUUMsSUFBSXdDLElBRWhCOEIsU0FBVSxXQUNObkUsWUFBVyxPQVF2QnZCLE9BQU8yRixlQUFpQixTQUFVTixFQUFPTyxFQUFZQyxFQUFXM0QsRUFBVTRELEVBQUt0RSxHQUUzRUQsWUFBVyxHQUVYMUIsRUFBRW1FLE1BQ0VDLElBQUtvQixFQUNMbkIsT0FBUSxPQUNSQyxTQUFVLE9BQ1ZQLE1BQVFnQyxXQUFZQSxFQUFZQyxVQUFXQSxFQUFXM0QsU0FBVUEsRUFBVVYsT0FBUUEsRUFBUTBDLE9BQVEsUUFDbEdHLFFBQVMsU0FBVVQsR0FDTSxnQkFBakJBLEVBQUtVLFVBRUw1RSxFQUFha0UsRUFBS2pFLGVBQWdCaUUsRUFBSzRCLGNBQ3ZDeEYsT0FBT0MsU0FBV0QsT0FBT0MsU0FBU0MsS0FBSzZGLE1BQU0sS0FBSyxHQUNsRG5CLGdCQUN3QixXQUFqQmhCLEVBQUtVLFdBQ1p6RSxFQUFFaUcsR0FBS2pGLEtBQUssS0FDWmhCLEVBQUVpRyxHQUFLRSxTQUNQdEcsRUFBYWtFLEVBQUtqRSxlQUFnQmlFLEVBQUs0QixjQUN2Q1osaUJBR1JILE1BQU8sU0FBVWIsR0FDYi9ELEVBQUUsVUFBVUMsS0FBSzhELEVBQUtjLGNBQ3RCdkQsUUFBUUMsSUFBSSw2QkFDWkQsUUFBUUMsSUFBSXdDLElBSWhCOEIsU0FBVSxXQUNObkUsWUFBVyxPQWtCdkJ2QixPQUFPaUcscUJBQXVCLFNBQVVaLEVBQU85QixFQUFRSyxFQUFNcEMsR0FFekQzQixFQUFFbUUsTUFDRUMsSUFBS29CLEVBQ0xuQixPQUFRLE9BQ1JDLFNBQVUsT0FDVlAsTUFBUUEsT0FBTXBDLE9BQVFBLEdBQ3RCNkMsUUFBUyxTQUFVVCxHQUNmekMsUUFBUUMsSUFBSXdDLEdBQ1MsV0FBakJBLEVBQUtVLFNBRVMsVUFBVmYsSUFJQXZELE9BQU9DLFNBQVNDLEtBQU9xRCxJQUczQnBDLFFBQVFDLElBQUksdUJBQ1pELFFBQVFDLElBQUl3QyxHQUNac0MsWUFBWSxHQUFJdEMsRUFBS1csUUFBUyxlQUFnQixJQUM5QzFFLEVBQUUsdUJBQXVCQyxLQUFLOEQsRUFBS1csV0FLM0NFLE1BQU8sU0FBVWIsR0FFYnpDLFFBQVFDLElBQUkseUJBRVpELFFBQVFDLElBQUl3QyxPQVF4QjVELE9BQU9tRyxxQkFBdUIsU0FBVWQsRUFBT2UsRUFBTUMsR0FDakQsSUFBSUMsRUFBWXpHLEVBQUUsY0FDZDBHLEVBQVkxRyxFQUFFLGlCQUNsQnNCLFFBQVFDLElBQUlnRixFQUFNQyxHQUNsQnhHLEVBQUVtRSxNQUNFQyxJQUFLb0IsRUFDTG5CLE9BQVEsT0FDUkMsU0FBVSxPQUNWUCxNQUFRd0MsS0FBTUEsRUFBTUMsT0FBUUEsR0FDNUJHLFdBQVksV0FDUnJGLFFBQVFDLElBQUksd0JBQ1p2QixFQUFFLGlCQUFpQmMsWUFBWSxXQUVuQzBELFFBQVMsU0FBVVQsR0FDTSxHQUFqQkEsRUFBS1UsVUFDTHpFLEVBQUUsNEJBQTRCQyxLQUFLLG9CQUNuQ3dHLEVBQVV6RixLQUFLLElBQUssV0FDaEIwRixFQUFVNUYsWUFBWSxZQUUxQlYsU0FBUzBFLFVBQ2UsTUFBakJmLEVBQUtVLFVBQ1p6RSxFQUFFLDRCQUE0QkMsS0FBSzhELEVBQUtXLFVBR2hERSxNQUFPLFNBQVViLEdBQ2IvRCxFQUFFLDRCQUE0QkMsS0FBSzhELEVBQUtjLGNBQ3hDdkQsUUFBUUMsSUFBSXdDLElBRWhCOEIsU0FBVSxXQUNON0YsRUFBRSxpQkFBaUJpQixTQUFTLGNBT3hDZCxPQUFPeUcsaUJBQW1CLFNBQVVwQixFQUFPcUIsRUFBT0MsRUFBV25GLEVBQVFvRixHQUNqRS9HLEVBQUVtRSxNQUNFQyxJQUFLb0IsRUFDTG5CLE9BQVEsT0FDUkMsU0FBVSxPQUNWUCxNQUFRaUQsT0FBUUgsRUFBT0ksV0FBWUgsR0FDbkN0QyxRQUFTLFNBQVVULEdBQ2YsR0FBcUIsR0FBakJBLEVBQUtVLFVBQW1DLFNBQWZWLEVBQUttRCxPQUM5QixPQUFRdkYsR0FDSixJQUFLLFNBQ0R2QixTQUFTMEUsU0FDVCxNQUNKLElBQUssT0FDRGlDLEVBQWNqRyxZQUFZLGtCQUMxQmlHLEVBQWM5RixTQUFTLGtCQUN2QnlFLGNBQWMsK0JBQWdDLGdDQUFpQyxlQUFnQixHQUFJLE9BQ25HLE1BQ0osSUFBSyxPQUNEcEUsUUFBUUMsSUFBSSw0QkFDaEIsUUFDSUQsUUFBUUMsSUFBSSxzQkFHSSxHQUFqQndDLEVBQUtVLFVBQW1DLFdBQWZWLEVBQUttRCxTQUNyQ0gsRUFBYzlGLFNBQVMsa0JBQ3ZCOEYsRUFBY2pHLFlBQVksa0JBQzFCNEUsY0FBYywrQkFBZ0Msa0NBQW1DLGVBQWdCLEdBQUksTUFXckgsSUFBMEJ5QixLQVRHcEQsRUFBS3FELFdBVW5CLEdBQ1BwSCxFQUFFLGdCQUFnQmMsWUFBWSxPQUM5QmQsRUFBRSxnQkFBZ0JpQixTQUFTLE9BQ1osR0FBUmtHLEdBQ1BuSCxFQUFFLGdCQUFnQmMsWUFBWSxNQUM5QmQsRUFBRSxnQkFBZ0JpQixTQUFTLFNBRTNCakIsRUFBRSxnQkFBZ0JjLFlBQVksTUFDOUJkLEVBQUUsZ0JBQWdCYyxZQUFZLE9BQzlCZCxFQUFFLGdCQUFnQmlCLFNBQVMsTUFDM0JLLFFBQVFDLElBQUksaUNBbEJacUQsTUFBTyxTQUFVYixHQUNiL0QsRUFBRSxVQUFVQyxLQUFLOEQsRUFBS2MsY0FDdEJ2RCxRQUFRQyxJQUFJd0MsT0FvQnhCNUQsT0FBT2tILHNCQUF3QixTQUFVN0IsRUFBT3FCLEVBQU9sRixHQUNuRCxJQUFJMkYsRUFBVzNGLEVBQ2YzQixFQUFFbUUsTUFDRUMsSUFBS29CLEVBQ0xuQixPQUFRLE9BQ1JDLFNBQVUsT0FDVlAsTUFBUWlELE9BQVFILEdBQ2hCckMsUUFBUyxTQUFVVCxHQUdmLEdBRkEvRCxFQUFFLFVBQVVDLEtBQUs4RCxFQUFLYyxjQUN0QnZELFFBQVFDLElBQUl3QyxHQUNTLEdBQWpCQSxFQUFLVSxTQUVMLE9BREFuRCxRQUFRQyxJQUFJK0YsR0FDSkEsR0FDSixJQUFLLFNBRUQ1QixjQUFjLE1BQU8sa0NBQW1DLGVBRDNDLFNBQ21FLEtBQ2hGLE1BQ0osUUFDSXBFLFFBQVFDLElBQUksc0JBS3BCRCxRQUFRQyxJQUFJd0MsSUFHcEJhLE1BQU8sU0FBVWIsR0FFYnpDLFFBQVFDLElBQUl3QyxPQUt4QjVELE9BQU9vSCwwQkFBNEIsU0FBVS9CLEVBQU9nQyxFQUFZN0YsR0FDNUQzQixFQUFFbUUsTUFDRUMsSUFBS29CLEVBQ0xuQixPQUFRLE9BQ1JDLFNBQVUsT0FDVlAsTUFBUTBELFlBQWFELEdBQ3JCaEQsUUFBUyxTQUFVVCxHQUdmLEdBRkF6QyxRQUFRQyxJQUFJd0MsR0FFUyxHQUFqQkEsRUFBS1UsU0FDTCxPQUFROUMsR0FDSixJQUFLLFNBQ0R2QixTQUFTMEUsU0FDVCxNQUNKLFFBQ0l4RCxRQUFRQyxJQUFJLHNCQUlwQnZCLEVBQUUsVUFBVUMsS0FBSzhELEVBQUtXLFFBQUwsV0FDakJwRCxRQUFRQyxJQUFJd0MsSUFHcEJhLE1BQU8sU0FBVWIsR0FFYnpDLFFBQVFDLElBQUl3QyxPQVd4Qi9ELEVBQUUsZ0JBQWdCZ0IsT0FFbEJiLE9BQU91SCx5QkFBMkIsV0FFOUIxSCxFQUFFLHVCQUF1QjJFLEtBQUssV0FBVyxHQUN6QzNFLEVBQUUscUJBQXFCMkUsS0FBSyxZQUFZLEdBQ3hDM0UsRUFBRSxnQkFBZ0JpQyxLQUFLLEtBQ3ZCakMsRUFBRSxnQkFBZ0JnQixLQUFLLEdBQ3ZCaEIsRUFBRSxxQkFBcUJnQixLQUFLLEdBQzVCaEIsRUFBRSxrQkFBa0JpQyxLQUFLLElBRzdCOUIsT0FBT3dILDBCQUE0QixXQUUvQjNILEVBQUUsdUJBQXVCMkUsS0FBSyxXQUFXLEdBQ3pDM0UsRUFBRSxxQkFBcUIyRSxLQUFLLFlBQVksR0FDeEMzRSxFQUFFLGdCQUFnQmdCLEtBQUssR0FDdkJoQixFQUFFLGdCQUFnQmlDLEtBQUssS0FDdkJqQyxFQUFFLHFCQUFxQmlDLEtBQUssR0FDNUJqQyxFQUFFLGtCQUFrQmdCLEtBQUssSUFHN0JoQixFQUFFNEgsVUFBVUMsTUFBTSxXQUNkN0gsRUFBRSxrQkFBa0JtQixHQUFHLFNBQVUsV0FDN0IsSUFBSTJHLEVBQVU5SCxFQUFFbUMsTUFBTUMsTUFDdEIyRixXQUFXRCxPQVluQjNILE9BQU82SCxhQUFlLFNBQVNDLEdBRTNCakksRUFBRWlJLEdBQVVqSCxLQUFLLE1BR3JCYixPQUFPK0gsU0FBVyxTQUFTQyxHQUN2QixJQUFJakIsRUFBUyxLQUNUa0IsS0FRSixPQVBBaEksU0FBU2lJLE9BQ0pDLE9BQU8sR0FDUHBDLE1BQU0sS0FDTnFDLFFBQVEsU0FBVW5ELElBQ25CZ0QsRUFBTWhELEVBQUtjLE1BQU0sTUFDVCxLQUFPaUMsSUFBZWpCLEVBQVNzQixtQkFBbUJKLEVBQUksT0FFM0RsQixHQUdYL0csT0FBT3NJLFVBQVksU0FBU3JFLEdBQ3hCLElBQUlzRSxLQUNIQyxFQUFTZixTQUFTZ0IsY0FBYyxLQUNwQ0QsRUFBT3RJLEtBQU8rRCxFQUdkLElBRkEsSUFDSXlFLEVBRFFGLEVBQU9OLE9BQU9TLFVBQVUsR0FDbkI1QyxNQUFNLEtBQ2Q1SCxFQUFJLEVBQUdBLEVBQUl1SyxFQUFLRSxPQUFRekssSUFBSyxDQUNyQyxJQUFJMEssRUFBT0gsRUFBS3ZLLEdBQUc0SCxNQUFNLEtBQ3pCd0MsRUFBT00sRUFBSyxJQUFNUixtQkFBbUJRLEVBQUssSUFFM0MsT0FBT04iLCJmaWxlIjoiL2pzL3NjcmlwdHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNjApO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDgxZWIxYjZmY2NlNWQ3ODFiMTI1IiwiLy9cclxuLy8gfC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vIHwgTmF2aWdhdGlvblxyXG4vLyB8LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuLy9cclxuJCgnI25hdmZ1bGwtdG9wLWJ0biwgI25hdmZ1bGwtYm90dG9tLWJ0bicpLmNsaWNrKGZ1bmN0aW9uKCkge1xyXG4gICAgdG9nZ2xlTmF2KCk7XHJcbn0pO1xyXG5cclxud2luZG93LnRvZ2dsZU5hdiA9IGZ1bmN0aW9uKClcclxue1xyXG4gICAgY29uc3QgbmF2ID0gJCgnLk1vYmlsZU5hdmlnYXRpb24nKTtcclxuICAgIGNvbnN0IGJvZHkgPSAkKCdib2R5Jyk7XHJcbiAgICBjb25zdCB0cmlnZ2VyID0gJCgnI25hdmZ1bGwtdG9wLWJ0bicpO1xyXG4gICAgY29uc3QgYm90dG9tVHJpZ2dlciA9ICQoJyNuYXZmdWxsLWJvdHRvbS1idG4nKTtcclxuICAgIGNvbnN0IGNvbnRlbnRUZXh0ID0gJCgnLmNvbnRlbnQtZWZmZWN0Jyk7XHJcblxyXG4gICAgaWYobmF2Lmhhc0NsYXNzKCduYXZmdWxsLWFjdGl2ZScpKVxyXG4gICAge1xyXG4gICAgICAgIG5hdi5yZW1vdmVDbGFzcygnbmF2ZnVsbC1hY3RpdmUnKTtcclxuICAgICAgICB0cmlnZ2VyLnJlbW92ZUNsYXNzKCduYXZmdWxsLXRvcC1hY3RpdmUnKTtcclxuICAgICAgICBib3R0b21UcmlnZ2VyLnJlbW92ZUNsYXNzKCduYXZmdWxsLWJvdHRvbS1hY3RpdmUnKTtcclxuICAgICAgICBib2R5LmNzcygnb3ZlcmZsb3cnLCdhdXRvJyk7XHJcbiAgICAgICAgY29udGVudFRleHQuaGlkZSgpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBuYXYuYWRkQ2xhc3MoJ25hdmZ1bGwtYWN0aXZlJyk7XHJcbiAgICAgICAgdHJpZ2dlci5hZGRDbGFzcygnbmF2ZnVsbC10b3AtYWN0aXZlJyk7XHJcbiAgICAgICAgYm90dG9tVHJpZ2dlci5hZGRDbGFzcygnbmF2ZnVsbC1ib3R0b20tYWN0aXZlJyk7XHJcbiAgICAgICAgYm9keS5jc3MoJ292ZXJmbG93JywnaGlkZGVuJyk7XHJcbiAgICAgICAgY29udGVudFRleHQuZmFkZUluKDUwMCk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vLyBMb2FkZXJzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuJChcIi5sb2FkZXItb24tY2hhbmdlXCIpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcjZnVsbC1sb2FkZXInKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufSk7XHJcblxyXG4kKFwiLmxvYWRlci1vbi1zdWJtaXRcIikub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJyNmdWxsLWxvYWRlcicpLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuICAgIHJldHVybiB0cnVlO1xyXG59KTtcclxuXHJcbiQoJy5kb250LXN1Ym1pdC1vbi1lbnRlciwgLmRzb24nKS5rZXlwcmVzcyhmdW5jdGlvbiAoZSkge1xyXG4gICAgY29uc29sZS5sb2coXCJFTlRFUlwiKTtcclxuICAgIGlmIChlLndoaWNoID09IDEzKSByZXR1cm4gZmFsc2U7XHJcbiAgICBpZiAoZS53aGljaCA9PSAxMykgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG59KTtcclxuXHJcbndpbmRvdy5sb2FkZXJCYXJzID0gZnVuY3Rpb24gKGFjdGlvbikge1xyXG4gICAgXHJcbiAgICBjb25zdCBsb2FkZXIgPSAkKCcjTG9hZGVyQmFycycpO1xyXG5cclxuICAgIGlmKGFjdGlvbikge1xyXG4gICAgICAgIGxvYWRlci5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGxvYWRlci5hZGRDbGFzcygnSGlkZGVuJyk7XHJcbiAgICB9XHJcblxyXG59O1xyXG5cclxuLy8gU3RvcmUgRmlsdGVyc1xyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG53aW5kb3cuY29sbGFwc2VGaWx0ZXIgPSBmdW5jdGlvbihlbGVtKSB7XHJcbiAgICBjb25zdCBmaWx0ZXIgPSBlbGVtLnNpYmxpbmdzKCd1bCcpO1xyXG4gICAgaWYoZmlsdGVyLmhhc0NsYXNzKCdjb2xsYXBzZWQnKSlcclxuICAgIHtcclxuICAgICAgICBmaWx0ZXIucmVtb3ZlQ2xhc3MoJ2NvbGxhcHNlZCcpO1xyXG4gICAgICAgIGZpbHRlci5zaG93KDEwMCk7XHJcbiAgICAgICAgZWxlbS5odG1sKCctJyk7XHJcbiAgICB9XHJcbiAgICBlbHNlXHJcbiAgICB7XHJcbiAgICAgICAgZmlsdGVyLmFkZENsYXNzKCdjb2xsYXBzZWQnKTtcclxuICAgICAgICBmaWx0ZXIuaGlkZSgxMDApO1xyXG4gICAgICAgIGVsZW0uaHRtbCgnKycpO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLy8gTW9kaWZ5IGNhcnQgaXRlbSBxdWFudGl0eSBcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4kKCcuSW5wdXRCdG5RJykub24oJ2NoYW5nZSBrZXl1cCcsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICBPcmlnaW5hbCBBcnRpY2xlIFByaWNlXHJcbiAgICBsZXQgdmFsdWUgPSAkKHRoaXMpLnNpYmxpbmdzKCcuQXJ0aWNsZVByaWNlJykudmFsKCk7XHJcbiAgICAvLyBRdWFudGl0eVxyXG4gICAgbGV0IHF1YW50aXR5ID0gJCh0aGlzKS52YWwoKTtcclxuICAgIC8vIE5lciBWYWx1ZVxyXG4gICAgbGV0IG5ld1ZhbHVlID0gKHZhbHVlICogcXVhbnRpdHkpO1xyXG4gICAgLy8gTmV3IFByaWNlIFRhcmdldFxyXG4gICAgbGV0IG5ld1ByaWNlVGFyZ2V0ID0gJCh0aGlzKS5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5zaWJsaW5ncygnLlRvdGFsSXRlbVByaWNlJyk7XHJcblxyXG4gICAgY29uc29sZS5sb2codmFsdWUsIHF1YW50aXR5LCBuZXdWYWx1ZSk7XHJcbiAgICBtb2RpZnlDYXJ0SXRlbVEoJCh0aGlzKSwgbmV3UHJpY2VUYXJnZXQsIG5ld1ZhbHVlKTtcclxufSlcclxuXHJcbmZ1bmN0aW9uIG1vZGlmeUNhcnRJdGVtUShlLCBuZXdQcmljZVRhcmdldCwgbmV3VmFsdWUpIHtcclxuICAgIGUuc2libGluZ3MoJy5JbnB1dEJ0blEnKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcbiAgICBuZXdQcmljZVRhcmdldC5odG1sKCckICcgKyBuZXdWYWx1ZSk7XHJcbn1cclxuXHJcblxyXG4kKCcjTWFpbk92ZXJsYXknKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgY2hlY2tvdXRTaWRlYmFyKCdoaWRlJyk7XHJcbn0pXHJcbi8vIENoZWNrb3V0IHNpZGViYXJcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVx0XHRcclxud2luZG93LmNoZWNrb3V0U2lkZWJhciA9IGZ1bmN0aW9uIChzdGF0ZSkge1xyXG5cclxuICAgIGNvbnN0IHNpZGViYXIgPSAkKCcuQ2hlY2tvdXRDYXJ0Jyk7XHJcbiAgICBjb25zdCB3cmFwcGVyID0gJCgnLm1haW4td3JhcHBlcicpO1xyXG5cclxuICAgIGNvbnN0IHNob3cgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2lkZWJhci5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgd3JhcHBlci5hZGRDbGFzcygnYWxsb3ctc2lkZWJhcicpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGhpZGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc2lkZWJhci5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgd3JhcHBlci5yZW1vdmVDbGFzcygnYWxsb3ctc2lkZWJhcicpO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBpZiAoc3RhdGUgPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgaWYgKHNpZGViYXIuaGFzQ2xhc3MoJ2FjdGl2ZScpKSB7XHJcbiAgICAgICAgICAgIGhpZGUoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBzaG93KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSBlbHNlIGlmIChzdGF0ZSA9PSAnc2hvdycpIHtcclxuICAgICAgICBzaG93KCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfSBlbHNlIGlmIChzdGF0ZSA9PSAnaGlkZScpIHtcclxuICAgICAgICBoaWRlKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbndpbmRvdy5vcGVuQ2hlY2tvdXREZXNrdG9wID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICBpZiAoJCh3aW5kb3cpLndpZHRoKCkgPiA3NjgpIHtcclxuICAgICAgICBjaGVja291dFNpZGViYXIoJ3Nob3cnKTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxufVxyXG5cclxud2luZG93Lm9wZW5GaWx0ZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgY29uc3QgZmlsdGVycyA9ICQoJyNTZWFyY2hGaWx0ZXJzJyk7XHJcbiAgICBjb25zdCB0cmlnZ2VyID0gJCgnI1NlYXJjaEZpbHRlcnNUcmlnZ2VyJyk7XHJcbiAgICBpZihmaWx0ZXJzLmhhc0NsYXNzKCdhY3RpdmUnKSlcclxuICAgIHtcclxuICAgICAgICBmaWx0ZXJzLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB0cmlnZ2VyLnNob3coKTtcclxuICAgIH1cclxuICAgIGVsc2VcclxuICAgIHtcclxuICAgICAgICBmaWx0ZXJzLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICB0cmlnZ2VyLmhpZGUoKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcblxyXG4vKlxyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxufCBDQVJUXHJcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4qL1xyXG5cclxuXHJcbndpbmRvdy5zdW1BbGxJdGVtcyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHN1bSA9IDA7XHJcbiAgICAkKCcuVG90YWxJdGVtUHJpY2UnKS5lYWNoKGZ1bmN0aW9uIChpbmRleCkge1xyXG4gICAgICAgIHN1bSArPSBwYXJzZUludCgkKHRoaXMpLmh0bWwoKSk7XHJcbiAgICB9KTtcclxuICAgICQoJy5TdWJUb3RhbCcpLmh0bWwoc3VtKTtcclxufVxyXG5cclxuXHJcbi8vIFN1bSBkaXZzIHRleHRcclxud2luZG93LnN1bURpdnMgPSBmdW5jdGlvbiAob3JpZ2lucywgdGFyZ2V0KSB7XHJcbiAgICBsZXQgc3VtID0gMDtcclxuICAgIG9yaWdpbnMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgc3VtICs9IHBhcnNlRmxvYXQoJCh0aGlzKS50ZXh0KCkpO1xyXG4gICAgfSk7XHJcbiAgICB0YXJnZXQudGV4dChzdW0pO1xyXG59XHJcblxyXG5cclxuLy8gQ2hlY2sgcHJvZHVjdCB2YXJpYW50IHN0b2NrXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxud2luZG93LmNoZWNrVmFyaWFudFN0b2NrID0gZnVuY3Rpb24oKSB7XHJcbiAgICBsZXQgZm9ybSA9ICQoJyNBZGRUb0NhcnRGb3JtJyk7XHJcbiAgICBsZXQgZGF0YSA9IGZvcm0uc2VyaWFsaXplKCk7XHJcbiAgICBsZXQgYWxsb3dTdWJtaXQgPSBmYWxzZTtcclxuICAgIGxldCBzdWJtaXRCdXR0b24gPSAgJCgnI0FkZFRvQ2FydEZvcm1CdG4nKTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiBmb3JtLmRhdGEoJ3JvdXRlJyksXHJcbiAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ0pTT04nLFxyXG4gICAgICAgIGFzeW5jOiBmYWxzZSxcclxuICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmKGRhdGEucmVzcG9uc2UgPT0gdHJ1ZSlcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWYoZGF0YS5tZXNzYWdlID09ICcwJylcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5BdmFpbGFibGVTdG9jaycpLmh0bWwoXCJObyBoYXkgc3RvY2sgZGlzcG9uaWJsZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3VibWl0QnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuQXZhaWxhYmxlU3RvY2snKS5odG1sKFwiU3RvY2sgZGlzcG9uaWJsZTogXCIgKyBkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24ucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsbG93U3VibWl0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJFbnRybyBlbiBTVUNDRVNTXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICQoJyNNYXhRdWFudGl0eScpLnByb3AoXCJtYXhcIiwgZGF0YS5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgLy8gJCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgICAgICAkKCcuQXZhaWxhYmxlU3RvY2snKS5odG1sKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICBzdWJtaXRCdXR0b24ucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICQoJyNFcnJvcicpLmh0bWwoZGF0YS5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgYWxsb3dTdWJtaXQgPSBmYWxzZTtcclxuICAgICAgICAgICAgc3VibWl0QnV0dG9uLnByb3AoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVudHJvIGVuIGVycm9yIDJcIik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYWxsb3dTdWJtaXQ7XHJcbn1cclxuXHJcbi8vIFNldCBjYXJ0IGl0ZW1zIEpTT05cclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG53aW5kb3cuc2V0SXRlbXNEYXRhID0gZnVuY3Rpb24gKCkge1xyXG4gICAgaXRlbURhdGEgPSBbXTtcclxuXHJcbiAgICAkKCcuSXRlbS1EYXRhJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgbGV0IGlkID0gJCh0aGlzKS5kYXRhKCdpZCcpO1xyXG4gICAgICAgIGxldCBwcmljZSA9ICQodGhpcykuZGF0YSgncHJpY2UnKTtcclxuICAgICAgICBsZXQgdmFyaWFudF9pZCA9ICQodGhpcykuZGF0YSgndmFyaWFudCcpO1xyXG4gICAgICAgIGxldCBxdWFudGl0eSA9ICQodGhpcykudmFsKCk7XHJcblxyXG4gICAgICAgIGl0ZW0gPSB7fTtcclxuICAgICAgICBpdGVtWydpZCddID0gaWQ7XHJcbiAgICAgICAgaXRlbVsndmFyaWFudF9pZCddID0gdmFyaWFudF9pZDtcclxuICAgICAgICBpdGVtWydwcmljZSddID0gcHJpY2U7XHJcbiAgICAgICAgaXRlbVsncXVhbnRpdHknXSA9IHF1YW50aXR5O1xyXG4gICAgICAgIC8vIFVwZGF0ZSBkaXNwbGF5IHRvdGFsIGl0ZW0gcHJpY2VcclxuICAgICAgICB0b3RhbCA9IHByaWNlICogcXVhbnRpdHk7XHJcbiAgICAgICAgJCgnLicgKyBpZCArICctVG90YWxJdGVtUHJpY2UnKS5odG1sKHRvdGFsKTtcclxuXHJcbiAgICAgICAgaXRlbURhdGEucHVzaChpdGVtKTtcclxuICAgIH0pO1xyXG4gICAgLy8gVXBkYXRlIFRvdGFsXHJcbiAgICAvLyBjb25zb2xlLmluZm8oaXRlbURhdGEpO1xyXG4gICAgc3VtQWxsSXRlbXMoKTtcclxuICAgICQoJyNJdGVtcy1EYXRhJykudmFsKGl0ZW1EYXRhKTtcclxufVxyXG5cclxuLy8gQWRkIHByb2R1Y3QgdG8gY2FydFxyXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbndpbmRvdy5hZGRUb0NhcnQgPSBmdW5jdGlvbiAocm91dGUsIGRhdGEpIHtcclxuICAgIFxyXG4gICAgbG9hZGVyQmFycyh0cnVlKTtcclxuXHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogcm91dGUsXHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdKU09OJyxcclxuICAgICAgICBkYXRhOiBkYXRhLFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgJCgnLkF2YWlsYWJsZVN0b2NrJykuaHRtbChcIlN0b2NrIGRpc3BvbmlibGU6IFwiICsgZGF0YS5uZXdTdG9jayk7XHJcbiAgICAgICAgICAgICAgICB0b2FzdF9zdWNjZXNzKCdPayEnLCBkYXRhLm1lc3NhZ2UsICdib3R0b21DZW50ZXInLCAnJywgMjUwMCk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUb3RhbHMoZGF0YS50b3RhbENhcnRJdGVtcywgZGF0YS5jYXJ0U3ViVG90YWwpO1xyXG4gICAgICAgICAgICAgICAgc2V0SXRlbXNEYXRhKCk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICBzZXRJdGVtc0RhdGEoKTtcclxuICAgICAgICAgICAgICAgICAgICBzdW1BbGxJdGVtcygpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG9wZW5DaGVja291dERlc2t0b3AoKTtcclxuICAgICAgICAgICAgICAgIH0sIDEwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5yZXNwb25zZSA9PSAnd2FybmluZycpIHtcclxuICAgICAgICAgICAgICAgIHRvYXN0X3N1Y2Nlc3MoJ1VwcyEnLCBkYXRhLm1lc3NhZ2UsICdib3R0b21DZW50ZXInKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vICQoJyNFcnJvcicpLmh0bWwoZGF0YS5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGVuIGFkZHRvQ2FydCgpXCIpO1xyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGxvYWRlckJhcnMoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuLy8gUmVtb3ZlIHByb2R1Y3QgZnJvbSBjYXJ0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxud2luZG93LnJlbW92ZUZyb21DYXJ0ID0gZnVuY3Rpb24gKHJvdXRlLCBjYXJ0SXRlbUlkLCB2YXJpYW50SWQsIHF1YW50aXR5LCBkaXYsIGFjdGlvbikge1xyXG5cclxuICAgIGxvYWRlckJhcnModHJ1ZSk7XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHJvdXRlLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXHJcbiAgICAgICAgZGF0YTogeyBjYXJ0SXRlbUlkOiBjYXJ0SXRlbUlkLCB2YXJpYW50SWQ6IHZhcmlhbnRJZCwgcXVhbnRpdHk6IHF1YW50aXR5LCBhY3Rpb246IGFjdGlvbiwgbWV0aG9kOiAnYWpheCcgfSxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSAnY2FydC1yZW1vdmVkJykge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUb3RhbHMoZGF0YS50b3RhbENhcnRJdGVtcywgZGF0YS5jYXJ0U3ViVG90YWwpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoXCI/XCIpWzBdO1xyXG4gICAgICAgICAgICAgICAgc2V0SXRlbXNEYXRhKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5yZXNwb25zZSA9PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgICQoZGl2KS5oaWRlKDEwMCk7XHJcbiAgICAgICAgICAgICAgICAkKGRpdikucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVUb3RhbHMoZGF0YS50b3RhbENhcnRJdGVtcywgZGF0YS5jYXJ0U3ViVG90YWwpO1xyXG4gICAgICAgICAgICAgICAgc2V0SXRlbXNEYXRhKCk7XHJcbiAgICAgICAgICAgIH0gICBcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBlbiByZW1vdmVGcm9tQ2FydCgpXCIpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgLy8gSWYgYW4gZXJyb3IgcG9wcyB3aGVuIGRlc3Ryb3lpbmcgYW4gaXRlbSwgcmVsb2FkIGFuZCBwcmV2ZW50IGJhZCBtYWdpY1xyXG4gICAgICAgICAgICAvLyBsb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGxvYWRlckJhcnMoZmFsc2UpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVUb3RhbHModG90YWxDYXJ0SXRlbXMsIGNhcnRTdWJ0b3RhbCkge1xyXG5cclxuICAgIC8vIExpdmUgUmVsb2FkaW5nIHN0dWZmXHJcbiAgICAkKFwiLlRvdGFsQ2FydEl0ZW1zXCIpLmh0bWwodG90YWxDYXJ0SXRlbXMpO1xyXG4gICAgJChcIi5DYXJ0U3ViVG90YWxcIikuaHRtbChjYXJ0U3VidG90YWwpO1xyXG4gICAgJChcIiNTaWRlQ29udGFpbmVySXRlbXNGaXhlZFwiKS5sb2FkKHdpbmRvdy5sb2NhdGlvbi5ocmVmICsgXCIgI1NpZGVDb250YWluZXJJdGVtc0ZpeGVkXCIpO1xyXG4gICAgJChcIiNTaWRlQ29udGFpbmVySXRlbXNGbG9hdGluZ1wiKS5sb2FkKHdpbmRvdy5sb2NhdGlvbi5ocmVmICsgXCIgI1NpZGVDb250YWluZXJJdGVtc0Zsb2F0aW5nXCIpO1xyXG4gICAgJChcIi5Ub3RhbENhcnRJdGVtc1NpZGViYXJcIikubG9hZCh3aW5kb3cubG9jYXRpb24uaHJlZiArIFwiIC5Ub3RhbENhcnRJdGVtc1NpZGViYXJcIik7XHJcbiAgICAkKFwiLkF2YWlsYWJsZVN0b2NrXCIpLmxvYWQod2luZG93LmxvY2F0aW9uLmhyZWYgKyBcIiAuQXZhaWxhYmxlU3RvY2tcIik7XHJcbn1cclxuXHJcbi8vIFN1Ym1pdCBDYXJ0IEZvcm0gdG8gQ2hlY2tvdXRcclxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG53aW5kb3cuc3VibWl0Q2FydFRvQ2hlY2tvdXQgPSBmdW5jdGlvbiAocm91dGUsIHRhcmdldCwgZGF0YSwgYWN0aW9uKSB7XHJcblxyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHJvdXRlLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXHJcbiAgICAgICAgZGF0YTogeyBkYXRhLCBhY3Rpb246IGFjdGlvbiB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSAnc3VjY2VzcycpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICBpZiAodGFyZ2V0ID09ICdyZWxvYWQnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gUmVmcmVzaCBwYWdlLCBkZWxldGUgcGFyYW1ldHRlcnMgYW5kIG9wZW4gY2hlY2tvdXQgc2lkZWJhclxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbiA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmLnNwbGl0KFwiP1wiKVswXSArIFwiP2NoZWNrb3V0LW9uXCI7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gdGFyZ2V0O1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0Vycm9yIGVuIHN1Ym1pdEZvcm0nKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgdG9hc3RfZXJyb3IoJycsIGRhdGEubWVzc2FnZSwgJ2JvdHRvbUNlbnRlcicsICcnKTtcclxuICAgICAgICAgICAgICAgICQoJy5TaWRlQ29udGFpbmVyRXJyb3InKS5odG1sKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICAvLyAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAvLyAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJFcnJvciBlbiBzdWJtaXRGb3JtKClcIik7XHJcbiAgICAgICAgICAgIC8vIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgLy8gbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIFZhbGlkYXRlIGFuZCBzZXQgY291cG9uXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxud2luZG93LnZhbGlkYXRlQW5kU2V0Q291cG9uID0gZnVuY3Rpb24gKHJvdXRlLCBjb2RlLCBjYXJ0aWQpIHtcclxuICAgIGxldCBjb3Vwb25EaXYgPSAkKCcjQ291cG9uRGl2Jyk7XHJcbiAgICBsZXQgY291cG9uU2V0ID0gJCgnI1NldHRlZENvdXBvbicpO1xyXG4gICAgY29uc29sZS5sb2coY29kZSwgY2FydGlkKTtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiByb3V0ZSxcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICBkYXRhVHlwZTogJ0pTT04nLFxyXG4gICAgICAgIGRhdGE6IHsgY29kZTogY29kZSwgY2FydGlkOiBjYXJ0aWQgfSxcclxuICAgICAgICBiZWZvcmVTZW5kOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiQ29tcHJvYmFuZG8gY3Vww7NuLi4uXCIpO1xyXG4gICAgICAgICAgICAkKCcuQ291cG9uTG9hZGVyJykucmVtb3ZlQ2xhc3MoJ0hpZGRlbicpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKGRhdGEucmVzcG9uc2UgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgJCgnI0NvdXBvblZhbGlkYXRpb25NZXNzYWdlJykuaHRtbChcIkN1cMOzbiBhY2VwdGFkbyAhXCIpO1xyXG4gICAgICAgICAgICAgICAgY291cG9uRGl2LmhpZGUoMjAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY291cG9uU2V0LnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5yZXNwb25zZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcjQ291cG9uVmFsaWRhdGlvbk1lc3NhZ2UnKS5odG1sKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkKCcjQ291cG9uVmFsaWRhdGlvbk1lc3NhZ2UnKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKCcuQ291cG9uTG9hZGVyJykuYWRkQ2xhc3MoJ0hpZGRlbicpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBGYXZzXHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxud2luZG93LmFkZEFydGljbGVUb0ZhdnMgPSBmdW5jdGlvbiAocm91dGUsIGZhdmlkLCBhcnRpY2xlaWQsIGFjdGlvbiwgZGlzcGxheUJ1dHRvbikge1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHJvdXRlLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXHJcbiAgICAgICAgZGF0YTogeyBmYXZfaWQ6IGZhdmlkLCBhcnRpY2xlX2lkOiBhcnRpY2xlaWQgfSxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSB0cnVlICYmIGRhdGEucmVzdWx0ID09ICdhZGRlZCcpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVsb2FkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3Nob3cnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5QnV0dG9uLnJlbW92ZUNsYXNzKCdmYXYtaWNvbi1ub2ZhdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5QnV0dG9uLmFkZENsYXNzKCdmYXYtaWNvbi1pc2ZhdicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdF9zdWNjZXNzKCc8aSBjbGFzcz1cImZhcyBmYS1jaGVja1wiPjwvaT4nLCAnUHJvZHVjdG8gYWdyZWdhZG8gYSBmYXZvcml0b3MnLCAnYm90dG9tQ2VudGVyJywgJycsIDEyMjAwMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ25vbmUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnQWN0dWFsaXphZG8gLSBTaW4gQWNjacOzbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBoYXkgYWNjacOzbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnJlc3BvbnNlID09IHRydWUgJiYgZGF0YS5yZXN1bHQgPT0gJ3JlbW92ZWQnKSB7XHJcbiAgICAgICAgICAgICAgICBkaXNwbGF5QnV0dG9uLmFkZENsYXNzKCdmYXYtaWNvbi1ub2ZhdicpO1xyXG4gICAgICAgICAgICAgICAgZGlzcGxheUJ1dHRvbi5yZW1vdmVDbGFzcygnZmF2LWljb24taXNmYXYnKTtcclxuICAgICAgICAgICAgICAgIHRvYXN0X3N1Y2Nlc3MoJzxpIGNsYXNzPVwiZmFzIGZhLXRpbWVzXCI+PC9pPicsICdQcm9kdWN0byBlbGltaW5hZG8gZGUgZmF2b3JpdG9zJywgJ2JvdHRvbUNlbnRlcicsICcnLCAxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBzZXRGYXZzVG90YWxJY29uKGRhdGEuZmF2c0NvdW50KTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAkKCcjRXJyb3InKS5odG1sKGRhdGEucmVzcG9uc2VUZXh0KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldEZhdnNUb3RhbEljb24oZmF2cykge1xyXG4gICAgaWYgKGZhdnMgPiAwKSB7XHJcbiAgICAgICAgJCgnLkZhdk1haW5JY29uJykucmVtb3ZlQ2xhc3MoJ2ZhcicpO1xyXG4gICAgICAgICQoJy5GYXZNYWluSWNvbicpLmFkZENsYXNzKCdmYScpO1xyXG4gICAgfSBlbHNlIGlmIChmYXZzID09IDApIHtcclxuICAgICAgICAkKCcuRmF2TWFpbkljb24nKS5yZW1vdmVDbGFzcygnZmEnKTtcclxuICAgICAgICAkKCcuRmF2TWFpbkljb24nKS5hZGRDbGFzcygnZmFyJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoJy5GYXZNYWluSWNvbicpLnJlbW92ZUNsYXNzKCdmYScpO1xyXG4gICAgICAgICQoJy5GYXZNYWluSWNvbicpLnJlbW92ZUNsYXNzKCdmYXInKTtcclxuICAgICAgICAkKCcuRmF2TWFpbkljb24nKS5hZGRDbGFzcygnZmEnKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGVuIHNldEZhdnNUb3RhbEljb24oKVwiKTtcclxuICAgIH1cclxufVxyXG5cclxud2luZG93LnJlbW92ZUFydGljbGVGcm9tRmF2cyA9IGZ1bmN0aW9uIChyb3V0ZSwgZmF2aWQsIGFjdGlvbikge1xyXG4gICAgdmFyIGRvYWN0aW9uID0gYWN0aW9uO1xyXG4gICAgJC5hamF4KHtcclxuICAgICAgICB1cmw6IHJvdXRlLFxyXG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgIGRhdGFUeXBlOiAnSlNPTicsXHJcbiAgICAgICAgZGF0YTogeyBmYXZfaWQ6IGZhdmlkIH0sXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgJCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSB0cnVlKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkb2FjdGlvbik7XHJcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRvYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVsb2FkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFjdGlvbiA9ICdyZWxvYWQnO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdF9zdWNjZXNzKCdPayEnLCAnUHJvZHVjdG8gZWxpbWluYWRvIGRlIGZhdm9yaXRvcycsICdib3R0b21DZW50ZXInLCBhY3Rpb24sIDEwMDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm8gaGF5IGFjY2nDs24nKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyQoJyNFcnJvcicpLmh0bWwoZGF0YS5tZXNzYWdlWydlcnJvckluZm8nXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vJCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG53aW5kb3cucmVtb3ZlQWxsQXJ0aWNsZXNGcm9tRmF2cyA9IGZ1bmN0aW9uIChyb3V0ZSwgY3VzdG9tZXJpZCwgYWN0aW9uKSB7XHJcbiAgICAkLmFqYXgoe1xyXG4gICAgICAgIHVybDogcm91dGUsXHJcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgZGF0YVR5cGU6ICdKU09OJyxcclxuICAgICAgICBkYXRhOiB7IGN1c3RvbWVyX2lkOiBjdXN0b21lcmlkIH0sXHJcbiAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIC8vJCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnJlc3BvbnNlID09IHRydWUpIHtcclxuICAgICAgICAgICAgICAgIHN3aXRjaCAoYWN0aW9uKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmVsb2FkJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgbG9jYXRpb24ucmVsb2FkKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdObyBoYXkgYWNjacOzbicpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQoJyNFcnJvcicpLmh0bWwoZGF0YS5tZXNzYWdlWydlcnJvckluZm8nXSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIC8vJCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKlxyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxufCBMT0dJTiBBTkQgUkVHSVNURVJcclxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiovXHJcblxyXG4kKCcjUmVzZWxsZXJCb3gnKS5oaWRlKCk7XHJcblxyXG53aW5kb3cub3BlblJlc2VsbGVyUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICAkKCcjSXNSZXNlbGxlckNoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG4gICAgJCgnLklmUmVzZWxsZXJFbmFibGUnKS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgICQoJyNSZXNlbGxlckJveCcpLnNob3coMTAwKTtcclxuICAgICQoJyNSZXNlbGxlckNUQScpLmhpZGUoMCk7XHJcbiAgICAkKCcuTm9ybWFDbGllbnRUaXRsZScpLmhpZGUoMCk7XHJcbiAgICAkKCcuUmVzZWxsZXJUaXRsZScpLnNob3coMCk7XHJcbn1cclxuXHJcbndpbmRvdy5jbG9zZVJlc2VsbGVyUmVnaXN0cmF0aW9uID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICAkKCcjSXNSZXNlbGxlckNoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICQoJy5JZlJlc2VsbGVyRW5hYmxlJykucHJvcCgnZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICQoJyNSZXNlbGxlckJveCcpLmhpZGUoMCk7XHJcbiAgICAkKCcjUmVzZWxsZXJDVEEnKS5zaG93KDEwMCk7XHJcbiAgICAkKCcuTm9ybWFDbGllbnRUaXRsZScpLnNob3coMCk7XHJcbiAgICAkKCcuUmVzZWxsZXJUaXRsZScpLmhpZGUoMCk7XHJcbn1cclxuXHJcbiQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCl7XHJcbiAgICAkKCcuR2VvUHJvdlNlbGVjdCcpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGxldCBwcm92X2lkID0gJCh0aGlzKS52YWwoKTtcclxuICAgICAgICBnZXRHZW9Mb2NzKHByb3ZfaWQpO1xyXG4gICAgfSk7XHJcbn0pO1xyXG5cclxuXHJcblxyXG4vKlxyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxufCBNSVggRlVOQ1RJT05TXHJcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4qL1xyXG5cclxud2luZG93LmNsb3NlRWxlbWVudCA9IGZ1bmN0aW9uKHNlbGVjdG9yKVxyXG57XHJcbiAgICAkKHNlbGVjdG9yKS5oaWRlKDEwMCk7XHJcbn1cclxuXHJcbndpbmRvdy5nZXRQYXJhbSA9IGZ1bmN0aW9uKHBhcmFtZXRlck5hbWUpIHtcclxuICAgIHZhciByZXN1bHQgPSBudWxsLFxyXG4gICAgICAgIHRtcCA9IFtdO1xyXG4gICAgbG9jYXRpb24uc2VhcmNoXHJcbiAgICAgICAgLnN1YnN0cigxKVxyXG4gICAgICAgIC5zcGxpdChcIiZcIilcclxuICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkge1xyXG4gICAgICAgIHRtcCA9IGl0ZW0uc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgIGlmICh0bXBbMF0gPT09IHBhcmFtZXRlck5hbWUpIHJlc3VsdCA9IGRlY29kZVVSSUNvbXBvbmVudCh0bXBbMV0pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgcmV0dXJuIHJlc3VsdDtcclxufVxyXG5cclxud2luZG93LmdldFBhcmFtcyA9IGZ1bmN0aW9uKHVybCkge1xyXG4gICAgdmFyIHBhcmFtcyA9IHt9O1xyXG5cdHZhciBwYXJzZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcblx0cGFyc2VyLmhyZWYgPSB1cmw7XHJcblx0dmFyIHF1ZXJ5ID0gcGFyc2VyLnNlYXJjaC5zdWJzdHJpbmcoMSk7XHJcblx0dmFyIHZhcnMgPSBxdWVyeS5zcGxpdCgnJicpO1xyXG5cdGZvciAodmFyIGkgPSAwOyBpIDwgdmFycy5sZW5ndGg7IGkrKykge1xyXG5cdFx0dmFyIHBhaXIgPSB2YXJzW2ldLnNwbGl0KCc9Jyk7XHJcblx0XHRwYXJhbXNbcGFpclswXV0gPSBkZWNvZGVVUklDb21wb25lbnQocGFpclsxXSk7XHJcblx0fVxyXG5cdHJldHVybiBwYXJhbXM7XHJcbn1cclxuXHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZXNvdXJjZXMvYXNzZXRzL2pzL3N0b3JlL3NjcmlwdHMuanMiXSwic291cmNlUm9vdCI6IiJ9