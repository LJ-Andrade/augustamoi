!function(e){var t={};function a(i){if(t[i])return t[i].exports;var n=t[i]={i:i,l:!1,exports:{}};return e[i].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=t,a.d=function(e,t,i){a.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a(a.s=66)}({66:function(e,t,a){e.exports=a(67)},67:function(e,t){var a,i,n;$(".Select-Colors").chosen({placeholder_text_multiple:"Seleccione los colores",search_contains:!0,no_results_text:"No se ha encontrado el color"}),$(".Select-Tags").chosen({placeholder_text_multiple:"Seleccione las etiquetas",search_contains:!0,no_results_text:"No se ha encontrado la etiqueta"}),$(".Select-Brand").chosen({placeholder_text_single:"Seleccione la marca",search_contains:!0,no_results_text:"No se ha encontrado la marca"}),$(".Select-Atribute").chosen({placeholder_text_multiple:"Seleccionar",search_contains:!0,no_results_text:"No se ha encontrado"}),$(".Select-Category").chosen({placeholder_text_single:"Seleccione una categoría"}),$(".Select-Chosen").chosen({placeholder_text_single:"Seleccione una categoría"}),$(".SlugInput").keyup(function(){var e=$(this).val();e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLowerCase()).replace(/[&\/\\#,¡!´#+()$~%.'":*?<>{}]/g,"")).replace(/\s+/g,"-")).replace("ñ","n")).replace("á","a")).replace("é","e")).replace("í","i")).replace("ó","o")).replace("ú","u"),$(".SlugInput").val(e)}),$("#TitleInput").keyup(function(e){$(this).val();var t=$(this).val();t=(t=(t=(t=(t=(t=(t=(t=(t=t.toLowerCase()).replace(/[&\/\\#,¡!´#+()$~%.'":*?<>{}]/g,"")).replace(/\s+/g,"-")).replace("ñ","n")).replace("á","a")).replace("é","e")).replace("í","i")).replace("ó","o")).replace("ú","u"),$(".SlugInput").val(t)}),$(".ShowNotesTextArea").click(function(){var e=$(".NotesTextArea");e.hasClass("Hidden")?e.removeClass("Hidden"):e.addClass("Hidden")}),$(".AddAnotherAddressBtn").click(function(){$(".AnotherAddress").append("<input class='form-control' placeholder='Ingrese otro teléfono' name='deliveryaddress[]' type='text' style='margin-top:5px'>"),$(".AnotherLoc").append("<input class='form-control' placeholder='Ingrese otro teléfono' name='deliveryaddress[]' type='text' style='margin-top:5px'>")}),window.checkVariants=function(){var e=[];return $(".Combination").each(function(){e.push($(this).data("combination"))}),e},window.makeVariants=function(){var e=$("#ArticleVariants"),t=$(".VariantSize"),a=$(".VariantColor"),i=[],n=[];$.each(t,function(){$(this).is(":checked")&&(size={},size.id=$(this).val(),size.name=$(this).data("name"),n.push(size))}),$.each(a,function(){$(this).is(":checked")&&(color={},color.id=$(this).val(),color.name=$(this).data("name"),i.push(color))});var o=[];$.each(i,function(e,t){$.each(n,function(e,a){var i={};i.combination=t.name+"/"+a.name,i.color=t.name,i.color_id=t.id,i.size=a.name,i.size_id=a.id,o.push(i)})}),console.log(o);var l=checkVariants();$.each(o,function(t,a){if(!l.includes(a.combination)){var i="<tr><td class='Combination' data-combination="+a.color+"/"+a.size+">"+a.color+"/"+a.size+"</td><input name='variants["+a.combination+"][color]' value="+a.color_id+" type='hidden' class='form-control'><input name='variants["+a.combination+"][size]' value="+a.size_id+" type='hidden' class='form-control'><td><input name='variants["+a.combination+"][stock]' value='10' type='number' min='0' class='form-control'></td><td><a class='RemoveDynRow delete-icon'><i class='delete-icon fa fa-trash'></i></a></td></tr>";e.append(i)}}),$("#HeaderVariants").removeClass("Hidden")},$("#ArticleVariants").on("click",".RemoveDynRow",function(e){e.preventDefault(),$(this).parents("tr").remove()}),$(".RemoveVariant").on("click",function(){console.log($(this).data("rowid")),deleteDBItem($(this).data("route"),$(this).data("id"),$(this).data("rowid"))}),window.deleteDBItem=function(e,t,a){$.ajax({url:e,method:"POST",dataType:"JSON",data:{id:t},beforeSend:function(){},success:function(e){if(console.log(e),1!=e.success)return alert_error("Ups!","Ha ocurrido un error al eliminar la variante"),console.log(e),console.log(e.message),!1;$("#"+a).remove()},error:function(e){$("#Error").html(e.responseText),console.log(e),console.log(e.message)}})},$("#Single_Image").fileuploader({extensions:["jpg","jpeg","png","gif"],limit:1,addMore:!1,fileMaxSize:2,captions:{button:function(e){return"Seleccionar "+(e.limit,"Imágen")},feedback:function(e){return"Agregar imágenes..."},feedback2:function(e){return e.length+" "+(e.length>1?" imágenes seleccionadas":" imágen seleccionada")},drop:"Arrastre las imágenes aquí",paste:'<div class="fileuploader-pending-loader"><div class="left-half" style="animation-duration: ${ms}s"></div><div class="spinner" style="animation-duration: ${ms}s"></div><div class="right-half" style="animation-duration: ${ms}s"></div></div> Pasting a file, click here to cancel.',removeConfirmation:"Eliminar?",errors:{filesLimit:"Solo es posible subir ${limit} imágen.",filesType:"Solo se aceptan los formatos: ${extensions}.",fileSize:"La imágen pesa mucho! Elija una de ${fileMaxSize}MB como máximo.",fileName:"La imágen con ese nombre ya ha sido elegida",folderUpload:"No está permitido subir carpetas."},dialogs:{alert:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return alert(e)}),confirm:function(e,t){"confirm(text) ? callback() : null;"}}}}),$("#Multi_Images").fileuploader({extensions:["jpg","jpeg","png","gif","bmp"],changeInput:" ",theme:"thumbnails",enableApi:!0,addMore:!0,dragDrop:{container:null,onDragEnter:function(e,t,a,i,n){},onDragLeave:function(e,t,a,i,n){},onDrop:function(e,t,a,i,n){}},sorter:{selectorExclude:null,placeholder:null,scrollContainer:window,onSort:function(e,t,a,i,n){$("#FeaturedImageName").val(e[0].name)}},thumbnails:(a={onItemShow:function(e){e.html.find(".fileuploader-action-remove").before('<a class="fileuploader-action fileuploader-action-sort fas fa-sort" title="Sort"><i></i></a>')},box:'<div class="fileuploader-items"><ul class="fileuploader-items-list"><li class="fileuploader-thumbnails-input"><div class="fileuploader-thumbnails-input-inner">+</div></li></ul></div>',item:'<li class="fileuploader-item"><div class="fileuploader-item-inner"><div class="thumbnail-holder">${image}</div><div class="actions-holder"><a class="fileuploader-custom-action fileuploader-action-sort" title="Ordenar"><i class="fas fa-arrows-alt"></i></a> <a class="fileuploader-custom-action fileuploader-action-remove" title="Eliminar">X</a> <span class="fileuploader-action-popup"></span></div><div class="progress-holder">${progressBar}</div></div></li>',startImageRenderer:!0,canvasImage:!1,_selectors:{list:".fileuploader-items-list",item:".fileuploader-item",start:".fileuploader-action-start",retry:".fileuploader-action-retry",sorter:".fileuploader-action-sort",remove:".fileuploader-action-remove"}},i="onItemShow",n=function(e,t,a,i,n){var o=t.find(".fileuploader-thumbnails-input"),l=$.fileuploader.getInstance(n.get(0));o.insertAfter(e.html)[l.getOptions().limit&&l.getChoosedFiles().length>=l.getOptions().limit?"hide":"show"](),"image"==e.format&&e.html.find(".fileuploader-item-icon").hide()},i in a?Object.defineProperty(a,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):a[i]=n,a),afterRender:function(e,t,a,i){var n=e.find(".fileuploader-thumbnails-input"),o=$.fileuploader.getInstance(i.get(0));n.on("click",function(){o.open()})},onRemove:function(e,t,a,i,n){var o=t.find(".fileuploader-thumbnails-input"),l=$.fileuploader.getInstance(n.get(0));l.getOptions().limit&&l.getChoosedFiles().length-1<l.getOptions().limit&&o.show()}}),$(".Display-Input-Modificable").click(function(){$(this).removeClass("display-input-disabled")}),$("body").on("click","[data-editable]",function(){var e=$(this),t=$("<input/>").val(e.text());e.replaceWith(t);t.one("blur",function(){var e=$("<p data-editable />").text(t.val());t.replaceWith(e)}).focus()})}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgN2U1ODlhZDRlMjUyYjgzNzQ1M2EiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2Fzc2V0cy9qcy92YWRtaW4tZm9ybXMuanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIiQiLCJjaG9zZW4iLCJwbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlIiwic2VhcmNoX2NvbnRhaW5zIiwibm9fcmVzdWx0c190ZXh0IiwicGxhY2Vob2xkZXJfdGV4dF9zaW5nbGUiLCJrZXl1cCIsIlRleHQiLCJ0aGlzIiwidmFsIiwidG9Mb3dlckNhc2UiLCJyZXBsYWNlIiwiZXZlbnQiLCJjbGljayIsIm5vdGVzIiwiaGFzQ2xhc3MiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiYXBwZW5kIiwid2luZG93IiwiY2hlY2tWYXJpYW50cyIsImV4aXN0aW5nQ29tYmluYXRpb25zIiwiZWFjaCIsInB1c2giLCJkYXRhIiwibWFrZVZhcmlhbnRzIiwidmFyaWFudHNDb250YWluZXIiLCJ2YXJpYW50U2l6ZSIsInZhcmlhbnRDb2xvciIsImNvbG9ycyIsInNpemVzIiwiaXMiLCJzaXplIiwiY29sb3IiLCJjb21iaW5hdGlvbnMiLCJpbmRleCIsIml0ZW0iLCJjb25zb2xlIiwibG9nIiwidmFsdWUiLCJpbmNsdWRlcyIsInZhcmlhbnRSb3ciLCJvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInBhcmVudHMiLCJyZW1vdmUiLCJkZWxldGVEQkl0ZW0iLCJyb3V0ZSIsImlkIiwicm93aWQiLCJhamF4IiwidXJsIiwibWV0aG9kIiwiZGF0YVR5cGUiLCJiZWZvcmVTZW5kIiwic3VjY2VzcyIsImFsZXJ0X2Vycm9yIiwibWVzc2FnZSIsImVycm9yIiwiaHRtbCIsInJlc3BvbnNlVGV4dCIsImZpbGV1cGxvYWRlciIsImV4dGVuc2lvbnMiLCJsaW1pdCIsImFkZE1vcmUiLCJmaWxlTWF4U2l6ZSIsImNhcHRpb25zIiwiYnV0dG9uIiwib3B0aW9ucyIsImZlZWRiYWNrIiwiZmVlZGJhY2syIiwibGVuZ3RoIiwiZHJvcCIsInBhc3RlIiwicmVtb3ZlQ29uZmlybWF0aW9uIiwiZXJyb3JzIiwiZmlsZXNMaW1pdCIsImZpbGVzVHlwZSIsImZpbGVTaXplIiwiZmlsZU5hbWUiLCJmb2xkZXJVcGxvYWQiLCJkaWFsb2dzIiwiYWxlcnQiLCJfeCIsIl9hbGVydCIsImFwcGx5IiwiYXJndW1lbnRzIiwidG9TdHJpbmciLCJ0ZXh0IiwiY29uZmlybSIsImNhbGxiYWNrIiwiY2hhbmdlSW5wdXQiLCJ0aGVtZSIsImVuYWJsZUFwaSIsImRyYWdEcm9wIiwiY29udGFpbmVyIiwib25EcmFnRW50ZXIiLCJsaXN0RWwiLCJwYXJlbnRFbCIsIm5ld0lucHV0RWwiLCJpbnB1dEVsIiwib25EcmFnTGVhdmUiLCJvbkRyb3AiLCJzb3J0ZXIiLCJzZWxlY3RvckV4Y2x1ZGUiLCJwbGFjZWhvbGRlciIsInNjcm9sbENvbnRhaW5lciIsIm9uU29ydCIsImxpc3QiLCJ0aHVtYm5haWxzIiwib25JdGVtU2hvdyIsImZpbmQiLCJiZWZvcmUiLCJib3giLCJzdGFydEltYWdlUmVuZGVyZXIiLCJjYW52YXNJbWFnZSIsIl9zZWxlY3RvcnMiLCJzdGFydCIsInJldHJ5IiwicGx1c0lucHV0IiwiYXBpIiwiZ2V0SW5zdGFuY2UiLCJpbnNlcnRBZnRlciIsImdldE9wdGlvbnMiLCJnZXRDaG9vc2VkRmlsZXMiLCJmb3JtYXQiLCJoaWRlIiwiYWZ0ZXJSZW5kZXIiLCJvcGVuIiwib25SZW1vdmUiLCJzaG93IiwiJGVsIiwiJGlucHV0IiwicmVwbGFjZVdpdGgiLCJvbmUiLCIkcCIsImZvY3VzIl0sIm1hcHBpbmdzIjoiYUFDQSxJQUFBQSxLQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLElBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsWUFVQSxPQU5BSSxFQUFBTCxHQUFBTSxLQUFBSixFQUFBRCxRQUFBQyxJQUFBRCxRQUFBRixHQUdBRyxFQUFBRSxHQUFBLEVBR0FGLEVBQUFELFFBS0FGLEVBQUFRLEVBQUFGLEVBR0FOLEVBQUFTLEVBQUFWLEVBR0FDLEVBQUFVLEVBQUEsU0FBQVIsRUFBQVMsRUFBQUMsR0FDQVosRUFBQWEsRUFBQVgsRUFBQVMsSUFDQUcsT0FBQUMsZUFBQWIsRUFBQVMsR0FDQUssY0FBQSxFQUNBQyxZQUFBLEVBQ0FDLElBQUFOLEtBTUFaLEVBQUFtQixFQUFBLFNBQUFoQixHQUNBLElBQUFTLEVBQUFULEtBQUFpQixXQUNBLFdBQTJCLE9BQUFqQixFQUFBLFNBQzNCLFdBQWlDLE9BQUFBLEdBRWpDLE9BREFILEVBQUFVLEVBQUFFLEVBQUEsSUFBQUEsR0FDQUEsR0FJQVosRUFBQWEsRUFBQSxTQUFBUSxFQUFBQyxHQUFzRCxPQUFBUixPQUFBUyxVQUFBQyxlQUFBakIsS0FBQWMsRUFBQUMsSUFHdER0QixFQUFBeUIsRUFBQSxJQUdBekIsSUFBQTBCLEVBQUEscUVDekRBQyxFQUFFLGtCQUFrQkMsUUFDaEJDLDBCQUEyQix5QkFFM0JDLGlCQUFpQixFQUNqQkMsZ0JBQWlCLGlDQU1yQkosRUFBRSxnQkFBZ0JDLFFBQ2RDLDBCQUEyQiwyQkFFM0JDLGlCQUFpQixFQUNqQkMsZ0JBQWlCLG9DQUdyQkosRUFBRSxpQkFBaUJDLFFBQ2ZJLHdCQUF5QixzQkFFekJGLGlCQUFpQixFQUNqQkMsZ0JBQWlCLGlDQUtyQkosRUFBRSxv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SUMsRUFBS3hJLEVBQUUsdUJBQXVCeUYsS0FBTTRDLEVBQU81SCxPQUMvQzRILEVBQU9DLFlBQWFFLEtBVUdDIiwiZmlsZSI6Ii9qcy92YWRtaW4tZm9ybXMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCIvXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNjYpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDdlNTg5YWQ0ZTI1MmI4Mzc0NTNhIiwiLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAgICAgICAgICAgICAgICAgICBDb2xvcnNcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4kKCcuU2VsZWN0LUNvbG9ycycpLmNob3Nlbih7XHJcbiAgICBwbGFjZWhvbGRlcl90ZXh0X211bHRpcGxlOiAnU2VsZWNjaW9uZSBsb3MgY29sb3JlcycsXHJcbiAgICAvLyBtYXhfc2VsZWN0ZWRfb3B0aW9uczogMyxcclxuICAgIHNlYXJjaF9jb250YWluczogdHJ1ZSxcclxuICAgIG5vX3Jlc3VsdHNfdGV4dDogJ05vIHNlIGhhIGVuY29udHJhZG8gZWwgY29sb3InXHJcbn0pO1xyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAgICAgICAgICAgICAgICAgICAgVGFnc1xyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuJCgnLlNlbGVjdC1UYWdzJykuY2hvc2VuKHtcclxuICAgIHBsYWNlaG9sZGVyX3RleHRfbXVsdGlwbGU6ICdTZWxlY2Npb25lIGxhcyBldGlxdWV0YXMnLFxyXG4gICAgLy8gbWF4X3NlbGVjdGVkX29wdGlvbnM6IDMsXHJcbiAgICBzZWFyY2hfY29udGFpbnM6IHRydWUsXHJcbiAgICBub19yZXN1bHRzX3RleHQ6ICdObyBzZSBoYSBlbmNvbnRyYWRvIGxhIGV0aXF1ZXRhJ1xyXG59KTtcclxuXHJcbiQoJy5TZWxlY3QtQnJhbmQnKS5jaG9zZW4oe1xyXG4gICAgcGxhY2Vob2xkZXJfdGV4dF9zaW5nbGU6ICdTZWxlY2Npb25lIGxhIG1hcmNhJyxcclxuICAgIC8vIG1heF9zZWxlY3RlZF9vcHRpb25zOiAzLFxyXG4gICAgc2VhcmNoX2NvbnRhaW5zOiB0cnVlLFxyXG4gICAgbm9fcmVzdWx0c190ZXh0OiAnTm8gc2UgaGEgZW5jb250cmFkbyBsYSBtYXJjYSdcclxufSk7XHJcblxyXG5cclxuXHJcbiQoJy5TZWxlY3QtQXRyaWJ1dGUnKS5jaG9zZW4oe1xyXG4gICAgcGxhY2Vob2xkZXJfdGV4dF9tdWx0aXBsZTogJ1NlbGVjY2lvbmFyJyxcclxuICAgIC8vIG1heF9zZWxlY3RlZF9vcHRpb25zOiAzLFxyXG4gICAgc2VhcmNoX2NvbnRhaW5zOiB0cnVlLFxyXG4gICAgbm9fcmVzdWx0c190ZXh0OiAnTm8gc2UgaGEgZW5jb250cmFkbydcclxufSk7XHJcblxyXG4kKCcuU2VsZWN0LUNhdGVnb3J5JykuY2hvc2VuKHtcclxuICAgIHBsYWNlaG9sZGVyX3RleHRfc2luZ2xlOiAnU2VsZWNjaW9uZSB1bmEgY2F0ZWdvcsOtYScsXHJcbn0pO1xyXG5cclxuJCgnLlNlbGVjdC1DaG9zZW4nKS5jaG9zZW4oe1xyXG4gICAgcGxhY2Vob2xkZXJfdGV4dF9zaW5nbGU6ICdTZWxlY2Npb25lIHVuYSBjYXRlZ29yw61hJyxcclxufSk7XHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAgICAgICAgICAgICBTbHVnIGNyZWF0b3JcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4kKFwiLlNsdWdJbnB1dFwiKS5rZXl1cChmdW5jdGlvbigpe1xyXG4gICAgdmFyIFRleHQgICAgID0gJCh0aGlzKS52YWwoKTtcclxuICAgIFRleHQgICAgICAgICA9IFRleHQudG9Mb3dlckNhc2UoKTtcclxuICAgIHZhciByZWdFeHAgICA9IC9cXHMrL2c7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoL1smXFwvXFxcXCMswqEhwrQjKygpJH4lLidcIjoqPzw+e31dL2csJycpO1xyXG4gICAgVGV4dCAgICAgICAgID0gVGV4dC5yZXBsYWNlKHJlZ0V4cCwnLScpO1xyXG4gICAgVGV4dCAgICAgICAgID0gVGV4dC5yZXBsYWNlKCfDsScsICduJykgO1xyXG4gICAgVGV4dCAgICAgICAgID0gVGV4dC5yZXBsYWNlKCfDoScsICdhJykgO1xyXG4gICAgVGV4dCAgICAgICAgID0gVGV4dC5yZXBsYWNlKCfDqScsICdlJykgO1xyXG4gICAgVGV4dCAgICAgICAgID0gVGV4dC5yZXBsYWNlKCfDrScsICdpJykgO1xyXG4gICAgVGV4dCAgICAgICAgID0gVGV4dC5yZXBsYWNlKCfDsycsICdvJykgO1xyXG4gICAgVGV4dCAgICAgICAgID0gVGV4dC5yZXBsYWNlKCfDuicsICd1JykgO1xyXG4gICAgXHJcbiAgICAkKFwiLlNsdWdJbnB1dFwiKS52YWwoVGV4dCk7ICAgXHJcbn0pO1xyXG5cclxuLy8gU2x1ZyBBdXRvRmlsbG5wdXQgZnJvbSB0aXRsZSBcclxuXHJcbiQoXCIjVGl0bGVJbnB1dFwiKS5rZXl1cChmdW5jdGlvbihldmVudCkge1xyXG4gICAgdmFyIHN0dCA9ICQodGhpcykudmFsKCk7XHJcbiAgICB2YXIgVGV4dCAgICAgPSAkKHRoaXMpLnZhbCgpO1xyXG4gICAgVGV4dCAgICAgICAgID0gVGV4dC50b0xvd2VyQ2FzZSgpO1xyXG4gICAgdmFyIHJlZ0V4cCAgID0gL1xccysvZztcclxuICAgIFRleHQgICAgICAgICA9IFRleHQucmVwbGFjZSgvWyZcXC9cXFxcIyzCoSHCtCMrKCkkfiUuJ1wiOio/PD57fV0vZywnJyk7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UocmVnRXhwLCctJyk7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8OxJywgJ24nKSA7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8OhJywgJ2EnKSA7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8OpJywgJ2UnKSA7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8OtJywgJ2knKSA7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8OzJywgJ28nKSA7XHJcbiAgICBUZXh0ICAgICAgICAgPSBUZXh0LnJlcGxhY2UoJ8O6JywgJ3UnKSA7XHJcbiAgICAkKFwiLlNsdWdJbnB1dFwiKS52YWwoVGV4dCk7ICAgXHJcbn0pO1xyXG5cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgICAgIENSRUFURSBGT1JNXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuLy8gU2hvdyBOb3RlcyBUZXh0IEFyZWFcclxuJCgnLlNob3dOb3Rlc1RleHRBcmVhJykuY2xpY2soZnVuY3Rpb24oKXtcclxuICAgIHZhciBub3RlcyA9ICQoJy5Ob3Rlc1RleHRBcmVhJyk7XHJcbiAgICBpZiAobm90ZXMuaGFzQ2xhc3MoJ0hpZGRlbicpKXtcclxuICAgICAgICBub3Rlcy5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIG5vdGVzLmFkZENsYXNzKCdIaWRkZW4nKTtcclxuICAgIH1cclxufSk7XHJcblxyXG4vLyBBZGQgQW5vdGhlciBBZGRyZXNzXHJcbiQoJy5BZGRBbm90aGVyQWRkcmVzc0J0bicpLmNsaWNrKGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgYWRkcmVzc0lucHV0ID0gXCI8aW5wdXQgY2xhc3M9J2Zvcm0tY29udHJvbCcgcGxhY2Vob2xkZXI9J0luZ3Jlc2Ugb3RybyB0ZWzDqWZvbm8nIG5hbWU9J2RlbGl2ZXJ5YWRkcmVzc1tdJyB0eXBlPSd0ZXh0JyBzdHlsZT0nbWFyZ2luLXRvcDo1cHgnPlwiO1xyXG4gICAgdmFyIGxvY0lucHV0ICAgICA9IFwiPGlucHV0IGNsYXNzPSdmb3JtLWNvbnRyb2wnIHBsYWNlaG9sZGVyPSdJbmdyZXNlIG90cm8gdGVsw6lmb25vJyBuYW1lPSdkZWxpdmVyeWFkZHJlc3NbXScgdHlwZT0ndGV4dCcgc3R5bGU9J21hcmdpbi10b3A6NXB4Jz5cIjtcclxuXHJcbiAgICAkKCcuQW5vdGhlckFkZHJlc3MnKS5hcHBlbmQoYWRkcmVzc0lucHV0KTtcclxuICAgICQoJy5Bbm90aGVyTG9jJykuYXBwZW5kKGxvY0lucHV0KTtcclxufSk7XHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbi8vICAgICBDUkVBVEUgQVJUSUNMRSBWQVJJQU5UU1xyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbndpbmRvdy5jaGVja1ZhcmlhbnRzID0gZnVuY3Rpb24oKVxyXG57XHJcbiAgICBsZXQgZXhpc3RpbmdDb21iaW5hdGlvbnMgPSBbXTtcclxuICAgICQoXCIuQ29tYmluYXRpb25cIikuZWFjaChmdW5jdGlvbigpe1xyXG4gICAgICAgIGV4aXN0aW5nQ29tYmluYXRpb25zLnB1c2goJCh0aGlzKS5kYXRhKCdjb21iaW5hdGlvbicpKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGV4aXN0aW5nQ29tYmluYXRpb25zO1xyXG59XHJcblxyXG5cclxud2luZG93Lm1ha2VWYXJpYW50cyA9IGZ1bmN0aW9uKClcclxue1xyXG4gICAgY29uc3QgdmFyaWFudHNDb250YWluZXIgPSAkKCcjQXJ0aWNsZVZhcmlhbnRzJyk7XHJcbiAgICBjb25zdCB2YXJpYW50U2l6ZSA9ICQoJy5WYXJpYW50U2l6ZScpO1xyXG4gICAgY29uc3QgdmFyaWFudENvbG9yID0gJCgnLlZhcmlhbnRDb2xvcicpO1xyXG4gICAgXHJcbiAgICBsZXQgY29sb3JzID0gW107XHJcbiAgICBsZXQgc2l6ZXMgPSBbXTtcclxuXHJcbiAgICBcclxuXHJcbiAgICAkLmVhY2godmFyaWFudFNpemUsIGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgaWYoJCh0aGlzKS5pcygnOmNoZWNrZWQnKSlcclxuICAgICAgICB7ICAgXHJcbiAgICAgICAgICAgIHNpemUgPSB7fTtcclxuICAgICAgICAgICAgc2l6ZVsnaWQnXSA9ICQodGhpcykudmFsKCk7XHJcbiAgICAgICAgICAgIHNpemVbJ25hbWUnXSA9ICQodGhpcykuZGF0YSgnbmFtZScpO1xyXG4gICAgICAgICAgICBzaXplcy5wdXNoKHNpemUpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgXHJcbiAgICAkLmVhY2godmFyaWFudENvbG9yLCBmdW5jdGlvbigpe1xyXG4gICAgICAgIGlmKCQodGhpcykuaXMoJzpjaGVja2VkJykpXHJcbiAgICAgICAgeyAgIFxyXG4gICAgICAgICAgICBjb2xvciA9IHt9O1xyXG4gICAgICAgICAgICBjb2xvclsnaWQnXSA9ICQodGhpcykudmFsKCk7XHJcbiAgICAgICAgICAgIGNvbG9yWyduYW1lJ10gPSAkKHRoaXMpLmRhdGEoJ25hbWUnKTtcclxuICAgICAgICAgICAgY29sb3JzLnB1c2goY29sb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgICAgXHJcbiAgICBsZXQgY29tYmluYXRpb25zID0gW107XHJcblxyXG4gICAgJC5lYWNoKGNvbG9ycywgZnVuY3Rpb24oaW5kZXgsIGNvbG9yKXtcclxuICAgICAgICAkLmVhY2goc2l6ZXMsICBmdW5jdGlvbihpbmRleCwgc2l6ZSl7XHJcbiAgICAgICAgICAgIGxldCBpdGVtID0ge307IFxyXG4gICAgICAgICAgICBpdGVtWydjb21iaW5hdGlvbiddID0gY29sb3JbJ25hbWUnXStcIi9cIitzaXplWyduYW1lJ107XHJcbiAgICAgICAgICAgIGl0ZW1bJ2NvbG9yJ10gPSBjb2xvclsnbmFtZSddO1xyXG4gICAgICAgICAgICBpdGVtWydjb2xvcl9pZCddID0gY29sb3JbJ2lkJ107XHJcbiAgICAgICAgICAgIGl0ZW1bJ3NpemUnXSA9IHNpemVbJ25hbWUnXTtcclxuICAgICAgICAgICAgaXRlbVsnc2l6ZV9pZCddID0gc2l6ZVsnaWQnXTtcclxuICAgICAgICAgICAgY29tYmluYXRpb25zLnB1c2goaXRlbSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZyhjb21iaW5hdGlvbnMpO1xyXG4gICAgXHJcbiAgICBsZXQgZXhpc3RpbmdDb21iaW5hdGlvbnMgPSBjaGVja1ZhcmlhbnRzKCk7XHJcblxyXG4gICAgJC5lYWNoKGNvbWJpbmF0aW9ucywgZnVuY3Rpb24oaW5kZXgsIHZhbHVlKVxyXG4gICAgeyAgIFxyXG4gICAgICAgIC8vIEVDTUEgc2NyaXB0IDYgXHJcbiAgICAgICAgaWYoIWV4aXN0aW5nQ29tYmluYXRpb25zLmluY2x1ZGVzKHZhbHVlWydjb21iaW5hdGlvbiddKSlcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGxldCB2YXJpYW50Um93ID0gXCI8dHI+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPHRkIGNsYXNzPSdDb21iaW5hdGlvbicgZGF0YS1jb21iaW5hdGlvbj1cIisgdmFsdWVbJ2NvbG9yJ10gK1wiL1wiICsgdmFsdWVbJ3NpemUnXSArIFwiPlwiKyB2YWx1ZVsnY29sb3InXSArXCIvXCIgKyB2YWx1ZVsnc2l6ZSddICsgXCI8L3RkPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjxpbnB1dCBuYW1lPSd2YXJpYW50c1tcIit2YWx1ZVsnY29tYmluYXRpb24nXStcIl1bY29sb3JdJyB2YWx1ZT1cIisgdmFsdWVbJ2NvbG9yX2lkJ10gK1wiIHR5cGU9J2hpZGRlbicgY2xhc3M9J2Zvcm0tY29udHJvbCc+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPGlucHV0IG5hbWU9J3ZhcmlhbnRzW1wiK3ZhbHVlWydjb21iaW5hdGlvbiddK1wiXVtzaXplXScgdmFsdWU9XCIrIHZhbHVlWydzaXplX2lkJ10gK1wiIHR5cGU9J2hpZGRlbicgY2xhc3M9J2Zvcm0tY29udHJvbCc+XCIgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiPHRkPjxpbnB1dCBuYW1lPSd2YXJpYW50c1tcIit2YWx1ZVsnY29tYmluYXRpb24nXStcIl1bc3RvY2tdJyB2YWx1ZT0nMTAnIHR5cGU9J251bWJlcicgbWluPScwJyBjbGFzcz0nZm9ybS1jb250cm9sJz48L3RkPlwiICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIjx0ZD48YSBjbGFzcz0nUmVtb3ZlRHluUm93IGRlbGV0ZS1pY29uJz48aSBjbGFzcz0nZGVsZXRlLWljb24gZmEgZmEtdHJhc2gnPjwvaT48L2E+PC90ZD5cIiArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCI8L3RyPlwiO1xyXG4gICAgICAgICAgICB2YXJpYW50c0NvbnRhaW5lci5hcHBlbmQodmFyaWFudFJvdyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKCcjSGVhZGVyVmFyaWFudHMnKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcbn1cclxuXHJcblxyXG4vLyBSZW1vdmUgbmV3IHZhcmlhbnRzIHJvd1xyXG4kKCcjQXJ0aWNsZVZhcmlhbnRzJykub24oJ2NsaWNrJywgJy5SZW1vdmVEeW5Sb3cnLCBmdW5jdGlvbihlKSB7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAkKHRoaXMpLnBhcmVudHMoJ3RyJykucmVtb3ZlKCk7XHJcbn0pO1xyXG5cclxuJCgnLlJlbW92ZVZhcmlhbnQnKS5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgIGNvbnNvbGUubG9nKCQodGhpcykuZGF0YSgncm93aWQnKSk7XHJcbiAgICBkZWxldGVEQkl0ZW0oJCh0aGlzKS5kYXRhKCdyb3V0ZScpLCAkKHRoaXMpLmRhdGEoJ2lkJyksICQodGhpcykuZGF0YSgncm93aWQnKSk7XHJcbn0pO1xyXG5cclxuXHJcbndpbmRvdy5kZWxldGVEQkl0ZW0gPSBmdW5jdGlvbihyb3V0ZSwgaWQsIHJvd2lkKXtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiByb3V0ZSxcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJywgICAgICAgICAgICAgXHJcbiAgICAgICAgZGF0YVR5cGU6ICdKU09OJyxcclxuICAgICAgICBkYXRhOiB7IGlkOiBpZCB9LFxyXG4gICAgICAgIGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZGF0YSk7XHJcbiAgICAgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgPT0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgLy8gJChcIiNcIityb3dpZCkuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJChcIiNcIityb3dpZCkucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydF9lcnJvcignVXBzIScsJ0hhIG9jdXJyaWRvIHVuIGVycm9yIGFsIGVsaW1pbmFyIGxhIHZhcmlhbnRlJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yOiBmdW5jdGlvbihkYXRhKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgJCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLm1lc3NhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4vLyAgIEVESVRPUlMgQU5EIEZJRUxEUyBcclxuLy8tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcblxyXG4kKCcjU2luZ2xlX0ltYWdlJykuZmlsZXVwbG9hZGVyKHtcclxuICAgIGV4dGVuc2lvbnM6IFsnanBnJywgJ2pwZWcnLCAncG5nJywgJ2dpZiddLFxyXG4gICAgbGltaXQ6IDEsXHJcbiAgICBhZGRNb3JlOiBmYWxzZSxcclxuICAgIGZpbGVNYXhTaXplOiAyLFxyXG4gICAgY2FwdGlvbnM6IHtcclxuICAgICAgICBidXR0b246IGZ1bmN0aW9uKG9wdGlvbnMpIHsgcmV0dXJuICdTZWxlY2Npb25hciAnICsgKG9wdGlvbnMubGltaXQgPT0gMSA/ICdJbcOhZ2VuJyA6ICdJbcOhZ2VuJyk7IH0sXHJcbiAgICAgICAgZmVlZGJhY2s6IGZ1bmN0aW9uKG9wdGlvbnMpIHsgcmV0dXJuICdBZ3JlZ2FyIGltw6FnZW5lcy4uLic7IH0sXHJcbiAgICAgICAgZmVlZGJhY2syOiBmdW5jdGlvbihvcHRpb25zKSB7IHJldHVybiBvcHRpb25zLmxlbmd0aCArICcgJyArIChvcHRpb25zLmxlbmd0aCA+IDEgPyAnIGltw6FnZW5lcyBzZWxlY2Npb25hZGFzJyA6ICcgaW3DoWdlbiBzZWxlY2Npb25hZGEnKTsgfSxcclxuICAgICAgICBkcm9wOiAnQXJyYXN0cmUgbGFzIGltw6FnZW5lcyBhcXXDrScsXHJcbiAgICAgICAgcGFzdGU6ICc8ZGl2IGNsYXNzPVwiZmlsZXVwbG9hZGVyLXBlbmRpbmctbG9hZGVyXCI+PGRpdiBjbGFzcz1cImxlZnQtaGFsZlwiIHN0eWxlPVwiYW5pbWF0aW9uLWR1cmF0aW9uOiAke21zfXNcIj48L2Rpdj48ZGl2IGNsYXNzPVwic3Bpbm5lclwiIHN0eWxlPVwiYW5pbWF0aW9uLWR1cmF0aW9uOiAke21zfXNcIj48L2Rpdj48ZGl2IGNsYXNzPVwicmlnaHQtaGFsZlwiIHN0eWxlPVwiYW5pbWF0aW9uLWR1cmF0aW9uOiAke21zfXNcIj48L2Rpdj48L2Rpdj4gUGFzdGluZyBhIGZpbGUsIGNsaWNrIGhlcmUgdG8gY2FuY2VsLicsXHJcbiAgICAgICAgcmVtb3ZlQ29uZmlybWF0aW9uOiAnRWxpbWluYXI/JyxcclxuICAgICAgICBlcnJvcnM6IHtcclxuICAgICAgICAgICAgZmlsZXNMaW1pdDogJ1NvbG8gZXMgcG9zaWJsZSBzdWJpciAke2xpbWl0fSBpbcOhZ2VuLicsXHJcbiAgICAgICAgICAgIGZpbGVzVHlwZTogJ1NvbG8gc2UgYWNlcHRhbiBsb3MgZm9ybWF0b3M6ICR7ZXh0ZW5zaW9uc30uJyxcclxuICAgICAgICAgICAgZmlsZVNpemU6ICdMYSBpbcOhZ2VuIHBlc2EgbXVjaG8hIEVsaWphIHVuYSBkZSAke2ZpbGVNYXhTaXplfU1CIGNvbW8gbcOheGltby4nLFxyXG4gICAgICAgICAgICBmaWxlTmFtZTogJ0xhIGltw6FnZW4gY29uIGVzZSBub21icmUgeWEgaGEgc2lkbyBlbGVnaWRhJyxcclxuICAgICAgICAgICAgZm9sZGVyVXBsb2FkOiAnTm8gZXN0w6EgcGVybWl0aWRvIHN1YmlyIGNhcnBldGFzLicsXHJcbiAgICAgICAgfSxcclxuICAgICAgICBkaWFsb2dzOiB7XHJcbiAgICAgICAgICAgIC8vIGFsZXJ0IGRpYWxvZ1xyXG4gICAgICAgICAgICBhbGVydDogZnVuY3Rpb24odGV4dCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFsZXJ0KHRleHQpO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyBjb25maXJtIGRpYWxvZ1xyXG4gICAgICAgICAgICBjb25maXJtOiBmdW5jdGlvbih0ZXh0LCBjYWxsYmFjaykge1xyXG4gICAgICAgICAgICAgICAgJ2NvbmZpcm0odGV4dCkgPyBjYWxsYmFjaygpIDogbnVsbDsnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgfVxyXG59KTtcclxuXHJcbiQoJyNNdWx0aV9JbWFnZXMnKS5maWxldXBsb2FkZXIoe1xyXG4gICAgZXh0ZW5zaW9uczogWydqcGcnLCAnanBlZycsICdwbmcnLCAnZ2lmJywgJ2JtcCddLFxyXG4gICAgY2hhbmdlSW5wdXQ6ICcgJyxcclxuICAgIHRoZW1lOiAndGh1bWJuYWlscycsXHJcbiAgICBlbmFibGVBcGk6IHRydWUsXHJcbiAgICBhZGRNb3JlOiB0cnVlLFxyXG4gICAgZHJhZ0Ryb3A6IHtcclxuICAgICAgICAvLyBzZXQgdGhlIGRyb3AgY29udGFpbmVyIHtudWxsLCBTdHJpbmcsIGpRdWVyeSBPYmplY3R9XHJcbiAgICAgICAgLy8gZXhhbXBsZTogJ2JvZHknXHJcbiAgICAgICAgY29udGFpbmVyOiBudWxsLFxyXG4gICAgXHJcbiAgICAgICAgLy8gQ2FsbGJhY2sgZmlyZWQgb24gZW50ZXJpbmcgd2l0aCBkcmFnZ2luZyBmaWxlcyB0aGUgZHJvcCBjb250YWluZXJcclxuICAgICAgICBvbkRyYWdFbnRlcjogZnVuY3Rpb24oZXZlbnQsIGxpc3RFbCwgcGFyZW50RWwsIG5ld0lucHV0RWwsIGlucHV0RWwpIHtcclxuICAgICAgICAgICAgLy8gY2FsbGJhY2sgd2lsbCBnbyBoZXJlXHJcbiAgICAgICAgfSxcclxuICAgIFxyXG4gICAgICAgIC8vIENhbGxiYWNrIGZpcmVkIG9uIGxlYXZpbmcgd2l0aCBkcmFnZ2luZyBmaWxlcyB0aGUgZHJvcCBjb250YWluZXJcclxuICAgICAgICBvbkRyYWdMZWF2ZTogZnVuY3Rpb24oZXZlbnQsIGxpc3RFbCwgcGFyZW50RWwsIG5ld0lucHV0RWwsIGlucHV0RWwpIHtcclxuICAgICAgICAgICAgLy8gY2FsbGJhY2sgd2lsbCBnbyBoZXJlXHJcbiAgICAgICAgfSxcclxuICAgIFxyXG4gICAgICAgIC8vIENhbGxiYWNrIGZpcmVkIG9uIGRyb3BwaW5nIHRoZSBmaWxlcyBpbiB0aGUgZHJvcCBjb250YWluZXJcclxuICAgICAgICBvbkRyb3A6IGZ1bmN0aW9uKGV2ZW50LCBsaXN0RWwsIHBhcmVudEVsLCBuZXdJbnB1dEVsLCBpbnB1dEVsKSB7XHJcbiAgICAgICAgICAgIC8vIGNhbGxiYWNrIHdpbGwgZ28gaGVyZVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzb3J0ZXI6IHtcclxuICAgICAgICBzZWxlY3RvckV4Y2x1ZGU6IG51bGwsXHJcbiAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXHJcbiAgICAgICAgc2Nyb2xsQ29udGFpbmVyOiB3aW5kb3csXHJcbiAgICAgICAgb25Tb3J0OiBmdW5jdGlvbihsaXN0LCBsaXN0RWwsIHBhcmVudEVsLCBuZXdJbnB1dEVsLCBpbnB1dEVsKSB7XHJcbiAgICAgICAgICAgICQoJyNGZWF0dXJlZEltYWdlTmFtZScpLnZhbChsaXN0WzBdWyduYW1lJ10pO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICB0aHVtYm5haWxzOiB7XHJcbiAgICAgICAgb25JdGVtU2hvdzogZnVuY3Rpb24oaXRlbSkge1xyXG4gICAgICAgICAgICAvLyBhZGQgc29ydGVyIGJ1dHRvbiB0byB0aGUgaXRlbSBodG1sPGkgY2xhc3M9XCJmYXMgZmEtc29ydFwiPjwvaT5cclxuICAgICAgICAgICAgaXRlbS5odG1sLmZpbmQoJy5maWxldXBsb2FkZXItYWN0aW9uLXJlbW92ZScpLmJlZm9yZSgnPGEgY2xhc3M9XCJmaWxldXBsb2FkZXItYWN0aW9uIGZpbGV1cGxvYWRlci1hY3Rpb24tc29ydCBmYXMgZmEtc29ydFwiIHRpdGxlPVwiU29ydFwiPjxpPjwvaT48L2E+Jyk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBib3g6ICc8ZGl2IGNsYXNzPVwiZmlsZXVwbG9hZGVyLWl0ZW1zXCI+JyArXHJcbiAgICAgICAgICAgICAgICAgICc8dWwgY2xhc3M9XCJmaWxldXBsb2FkZXItaXRlbXMtbGlzdFwiPicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgJzxsaSBjbGFzcz1cImZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0XCI+PGRpdiBjbGFzcz1cImZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0LWlubmVyXCI+KzwvZGl2PjwvbGk+JyArXHJcbiAgICAgICAgICAgICAgICAgICc8L3VsPicgK1xyXG4gICAgICAgICAgICAgICc8L2Rpdj4nLFxyXG4gICAgICAgIGl0ZW06ICc8bGkgY2xhc3M9XCJmaWxldXBsb2FkZXItaXRlbVwiPicgKyBcclxuICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiZmlsZXVwbG9hZGVyLWl0ZW0taW5uZXJcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAnPGRpdiBjbGFzcz1cInRodW1ibmFpbC1ob2xkZXJcIj4ke2ltYWdlfTwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICc8ZGl2IGNsYXNzPVwiYWN0aW9ucy1ob2xkZXJcIj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImZpbGV1cGxvYWRlci1jdXN0b20tYWN0aW9uIGZpbGV1cGxvYWRlci1hY3Rpb24tc29ydFwiIHRpdGxlPVwiT3JkZW5hclwiPjxpIGNsYXNzPVwiZmFzIGZhLWFycm93cy1hbHRcIj48L2k+PC9hPiAnICtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8YSBjbGFzcz1cImZpbGV1cGxvYWRlci1jdXN0b20tYWN0aW9uIGZpbGV1cGxvYWRlci1hY3Rpb24tcmVtb3ZlXCIgdGl0bGU9XCJFbGltaW5hclwiPlg8L2E+ICcgK1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxzcGFuIGNsYXNzPVwiZmlsZXVwbG9hZGVyLWFjdGlvbi1wb3B1cFwiPjwvc3Bhbj4nICtcclxuICAgICAgICAgICAgICAgICAgICAgICAnPC9kaXY+JyArXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJzxkaXYgY2xhc3M9XCJwcm9ncmVzcy1ob2xkZXJcIj4ke3Byb2dyZXNzQmFyfTwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAgICAgJzwvZGl2PicgK1xyXG4gICAgICAgICAgICAgICAnPC9saT4nLFxyXG5cclxuICAgICAgICBzdGFydEltYWdlUmVuZGVyZXI6IHRydWUsXHJcbiAgICAgICAgY2FudmFzSW1hZ2U6IGZhbHNlLFxyXG4gICAgICAgIF9zZWxlY3RvcnM6IHtcclxuICAgICAgICAgICAgbGlzdDogJy5maWxldXBsb2FkZXItaXRlbXMtbGlzdCcsXHJcbiAgICAgICAgICAgIGl0ZW06ICcuZmlsZXVwbG9hZGVyLWl0ZW0nLFxyXG4gICAgICAgICAgICBzdGFydDogJy5maWxldXBsb2FkZXItYWN0aW9uLXN0YXJ0JyxcclxuICAgICAgICAgICAgcmV0cnk6ICcuZmlsZXVwbG9hZGVyLWFjdGlvbi1yZXRyeScsXHJcbiAgICAgICAgICAgIHNvcnRlcjogJy5maWxldXBsb2FkZXItYWN0aW9uLXNvcnQnLFxyXG4gICAgICAgICAgICByZW1vdmU6ICcuZmlsZXVwbG9hZGVyLWFjdGlvbi1yZW1vdmUnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBvbkl0ZW1TaG93OiBmdW5jdGlvbihpdGVtLCBsaXN0RWwsIHBhcmVudEVsLCBuZXdJbnB1dEVsLCBpbnB1dEVsKSB7XHJcbiAgICAgICAgICAgIHZhciBwbHVzSW5wdXQgPSBsaXN0RWwuZmluZCgnLmZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0JyksXHJcbiAgICAgICAgICAgICAgICBhcGkgPSAkLmZpbGV1cGxvYWRlci5nZXRJbnN0YW5jZShpbnB1dEVsLmdldCgwKSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBwbHVzSW5wdXQuaW5zZXJ0QWZ0ZXIoaXRlbS5odG1sKVthcGkuZ2V0T3B0aW9ucygpLmxpbWl0ICYmIGFwaS5nZXRDaG9vc2VkRmlsZXMoKS5sZW5ndGggPj0gYXBpLmdldE9wdGlvbnMoKS5saW1pdCA/ICdoaWRlJyA6ICdzaG93J10oKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGlmKGl0ZW0uZm9ybWF0ID09ICdpbWFnZScpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uaHRtbC5maW5kKCcuZmlsZXVwbG9hZGVyLWl0ZW0taWNvbicpLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBhZnRlclJlbmRlcjogZnVuY3Rpb24obGlzdEVsLCBwYXJlbnRFbCwgbmV3SW5wdXRFbCwgaW5wdXRFbCkge1xyXG4gICAgICAgIHZhciBwbHVzSW5wdXQgPSBsaXN0RWwuZmluZCgnLmZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0JyksXHJcbiAgICAgICAgICAgIGFwaSA9ICQuZmlsZXVwbG9hZGVyLmdldEluc3RhbmNlKGlucHV0RWwuZ2V0KDApKTtcclxuICAgIFxyXG4gICAgICAgIHBsdXNJbnB1dC5vbignY2xpY2snLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgYXBpLm9wZW4oKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBvblJlbW92ZTogZnVuY3Rpb24oaXRlbSwgbGlzdEVsLCBwYXJlbnRFbCwgbmV3SW5wdXRFbCwgaW5wdXRFbCkge1xyXG4gICAgICAgIHZhciBwbHVzSW5wdXQgPSBsaXN0RWwuZmluZCgnLmZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0JyksXHJcbiAgICAgICAgICAgIGFwaSA9ICQuZmlsZXVwbG9hZGVyLmdldEluc3RhbmNlKGlucHV0RWwuZ2V0KDApKTtcclxuICAgIFxyXG4gICAgICAgIGlmIChhcGkuZ2V0T3B0aW9ucygpLmxpbWl0ICYmIGFwaS5nZXRDaG9vc2VkRmlsZXMoKS5sZW5ndGggLSAxIDwgYXBpLmdldE9wdGlvbnMoKS5saW1pdClcclxuICAgICAgICAgICAgcGx1c0lucHV0LnNob3coKTtcclxuICAgIH0sXHJcbiAgICAvKlxyXG4gICAgLy8gd2hpbGUgdXNpbmcgdXBsb2FkIG9wdGlvbiwgcGxlYXNlIHNldFxyXG4gICAgLy8gc3RhcnRJbWFnZVJlbmRlcmVyOiBmYWxzZVxyXG4gICAgLy8gZm9yIGEgYmV0dGVyIGVmZmVjdFxyXG4gICAgdXBsb2FkOiB7XHJcbiAgICAgICAgdXJsOiAnLi9waHAvdXBsb2FkX2ZpbGUucGhwJyxcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICAgIHR5cGU6ICdQT1NUJyxcclxuICAgICAgICBlbmN0eXBlOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScsXHJcbiAgICAgICAgc3RhcnQ6IHRydWUsXHJcbiAgICAgICAgc3luY2hyb246IHRydWUsXHJcbiAgICAgICAgYmVmb3JlU2VuZDogbnVsbCxcclxuICAgICAgICBvblN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEsIGl0ZW0pIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgICAgIGl0ZW0uaHRtbC5maW5kKCcucHJvZ3Jlc3MtaG9sZGVyJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgaXRlbS5yZW5kZXJUaHVtYm5haWwoKTtcclxuICAgICAgICAgICAgfSwgNDAwKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIG9uRXJyb3I6IGZ1bmN0aW9uKGl0ZW0pIHtcclxuICAgICAgICAgICAgaXRlbS5odG1sLmZpbmQoJy5wcm9ncmVzcy1ob2xkZXInKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIGl0ZW0uaHRtbC5maW5kKCcuZmlsZXVwbG9hZGVyLWl0ZW0taWNvbiBpJykudGV4dCgnRmFpbGVkIScpO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25Qcm9ncmVzczogZnVuY3Rpb24oZGF0YSwgaXRlbSkge1xyXG4gICAgICAgICAgICB2YXIgcHJvZ3Jlc3NCYXIgPSBpdGVtLmh0bWwuZmluZCgnLnByb2dyZXNzLWhvbGRlcicpO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgaWYocHJvZ3Jlc3NCYXIubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgcHJvZ3Jlc3NCYXIuZmluZCgnLmZpbGV1cGxvYWRlci1wcm9ncmVzc2JhciAuYmFyJykud2lkdGgoZGF0YS5wZXJjZW50YWdlICsgXCIlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGRyYWdEcm9wOiB7XHJcbiAgICAgICAgY29udGFpbmVyOiAnLmZpbGV1cGxvYWRlci10aHVtYm5haWxzLWlucHV0J1xyXG4gICAgfSxcclxuICAgIG9uUmVtb3ZlOiBmdW5jdGlvbihpdGVtKSB7XHJcbiAgICAgICAgJC5wb3N0KCdwaHAvdXBsb2FkX3JlbW92ZS5waHAnLCB7XHJcbiAgICAgICAgICAgIGZpbGU6IGl0ZW0ubmFtZVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuICAgICovXHJcbn0pO1xyXG5cclxuJCgnLkRpc3BsYXktSW5wdXQtTW9kaWZpY2FibGUnKS5jbGljayhmdW5jdGlvbigpe1xyXG4gICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnZGlzcGxheS1pbnB1dC1kaXNhYmxlZCcpOyBcclxufSk7XHJcblxyXG4vLyAtLS0tIE1vZGlmaWNhYmxlIGlucHV0IHRleHRcclxuLy8gSHRtbCBlbGVtZW50XHJcbi8vPHAgZGF0YS1lZGl0YWJsZSBjbGFzcz1cIlNsdWdJbnB1dFwiPnt7ICRhcnRpY2xlLT5zbHVnIH19PC9wPiAgIFxyXG5cclxuJCgnYm9keScpLm9uKCdjbGljaycsICdbZGF0YS1lZGl0YWJsZV0nLCBmdW5jdGlvbigpe1xyXG4gIFxyXG4gICAgdmFyICRlbCA9ICQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICBcclxuICAgIHZhciAkaW5wdXQgPSAkKCc8aW5wdXQvPicpLnZhbCggJGVsLnRleHQoKSApO1xyXG4gICAgJGVsLnJlcGxhY2VXaXRoKCAkaW5wdXQgKTtcclxuICAgIFxyXG4gICAgdmFyIHNhdmUgPSBmdW5jdGlvbigpe1xyXG4gICAgICB2YXIgJHAgPSAkKCc8cCBkYXRhLWVkaXRhYmxlIC8+JykudGV4dCggJGlucHV0LnZhbCgpICk7XHJcbiAgICAgICRpbnB1dC5yZXBsYWNlV2l0aCggJHAgKTtcclxuICAgIH07XHJcbiAgICBcclxuICAgIC8qKlxyXG4gICAgICBXZSdyZSBkZWZpbmluZyB0aGUgY2FsbGJhY2sgd2l0aCBgb25lYCwgYmVjYXVzZSB3ZSBrbm93IHRoYXRcclxuICAgICAgdGhlIGVsZW1lbnQgd2lsbCBiZSBnb25lIGp1c3QgYWZ0ZXIgdGhhdCwgYW5kIHdlIGRvbid0IHdhbnQgXHJcbiAgICAgIGFueSBjYWxsYmFja3MgbGVmdG92ZXJzIHRha2UgbWVtb3J5LiBcclxuICAgICAgTmV4dCB0aW1lIGBwYCB0dXJucyBpbnRvIGBpbnB1dGAgdGhpcyBzaW5nbGUgY2FsbGJhY2sgXHJcbiAgICAgIHdpbGwgYmUgYXBwbGllZCBhZ2Fpbi5cclxuICAgICovXHJcbiAgICAkaW5wdXQub25lKCdibHVyJywgc2F2ZSkuZm9jdXMoKTtcclxuICAgIFxyXG4gIH0pO1xyXG4gIFxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3Jlc291cmNlcy9hc3NldHMvanMvdmFkbWluLWZvcm1zLmpzIl0sInNvdXJjZVJvb3QiOiIifQ==