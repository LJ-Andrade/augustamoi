!function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/",o(o.s=64)}({64:function(e,t,o){e.exports=o(65)},65:function(e,t){function o(e,t){swal(e,t,"error")}$.ajaxSetup({headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")}}),$(document).on("click",".List-Checkbox",function(e){e.stopPropagation(),function(e){var t=[];$(".List-Checkbox:checked").each(function(){t.push($(this).attr("data-id")),$("#SelectedItems").val(t)}),1==t.length?$("#EditId").val(t):$("#EditId").val("");0==t.length&&$("#SelectedItems").val("");o=t.length,n=$(".ListActionBtn"),$.each(n,function(e,t){var n=$(t).data("visibleif");1==o&&"1"==n?$(t).removeClass("Hidden"):o>=2&&">2"==n?$(t).removeClass("Hidden"):o>0&&">0"==n?$(t).removeClass("Hidden"):$(t).addClass("Hidden")});var o,n}($(this).attr("data-id"))}),$("#SelectAllRows, .Select-All-To-Delete").on("click",function(){var e=[];$(this).prop("checked")?($(".List-Checkbox").prop("checked",!0),$(".List-Checkbox").length>=1&&$(".DeleteBtn").removeClass("Hidden"),$("tbody tr").addClass("row-selected"),$(".List-Checkbox").each(function(){e.push($(this).attr("data-id"))}),$("#SelectedItems").val(e)):($(".List-Checkbox").prop("checked",!1),$(".DeleteBtn").addClass("Hidden"),$("tbody tr").removeClass("row-selected"),$("#SelectedItems").val(""))}),$(document).scroll(function(e){$(window).scrollTop()>150?($(".DeleteBtn").css({position:"fixed",bottom:"50px",right:"10px","z-index":"999"}),$(".EditBtn").css({position:"fixed",bottom:"50px",right:"130px","z-index":"999"}),$(".CreateFromAnotherBtn").css({position:"fixed",bottom:"50px",right:"235px","z-index":"999"}),$(".ExportToShippingBtn").css({position:"fixed",bottom:"50px",right:"236px","z-index":"999"})):($(".DeleteBtn").css({position:"relative",bottom:"auto",right:"auto","z-index":"999"}),$(".EditBtn").css({position:"relative",bottom:"auto",right:"auto","z-index":"999"}),$(".CreateFromAnotherBtn").css({position:"relative",bottom:"auto",right:"auto","z-index":"999"}),$(".ExportToShippingBtn").css({position:"relative",bottom:"auto",right:"auto","z-index":"999"}))}),$("#TableList tbody .CheckBoxes").find('input[type="checkbox"]').each(function(){$(this).prop("checked",!1)}),setOtherToCero=function(e){$(e).val(0)},deleteRecord=function(e,t,n,r){swal({title:n,text:r,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"ELIMINAR",cancelButtonText:"Cancelar",confirmButtonClass:"btn btnGreen",cancelButtonClass:"btn btnRed",buttonsStyling:!1}).then(function(){$.ajax({url:t,method:"POST",dataType:"JSON",data:{id:e},beforeSend:function(){},success:function(t){if($("#BatchDeleteBtn").addClass("Hidden"),1==t.success){for($("#Id"+e).hide(200),i=0;i<e.length;i++)$("#Id"+e[i]).hide(200);return swal("Ok!","Eliminación completa","success"),console.log(t),!0}return o("Ups!","Ha ocurrido un error (Puede que este registro tenga relación con otros items en el sistema). Debe eliminar primero los mismos."),console.log(t),!1},error:function(e){$("#Error").html(e.responseText),console.log(e)},complete:function(){}})})},deleteAndReload=function(e,t,n,r){swal({title:n,text:r,type:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"ELIMINAR",cancelButtonText:"Cancelar",confirmButtonClass:"btn btnGreen",cancelButtonClass:"btn btnRed",buttonsStyling:!1}).then(function(){$.ajax({url:t,method:"POST",dataType:"JSON",data:{id:e},beforeSend:function(){},success:function(e){if($("#BatchDeleteBtn").addClass("Hidden"),1!=e.success)return o("Ups!","Ha ocurrido un error (Puede que este registro tenga relación con otros items en el sistema). Debe eliminar primero los mismos."),console.log(e),!1;location.reload()},error:function(e){$("#Error").html(e.responseText),console.log(e)}})})},window.removeFromCart=function(e,t,o,n){$.ajax({url:e,method:"POST",dataType:"JSON",data:{cartItemId:t,action:o},success:function(e){console.log(e),"success"==e.response?n.remove():console.log("ERROR")},error:function(e){$("#Error").html(e.responseText),console.log("Error en removeFromCart()"),console.log(e)}})}}});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNzcyMTYxZjdlNjgyMzI2MTc2NTMiLCJ3ZWJwYWNrOi8vLy4vcmVzb3VyY2VzL2Fzc2V0cy9qcy92YWRtaW4tZnVuY3Rpb25zLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJhbGVydF9lcnJvciIsImJpZ3RleHQiLCJzbWFsbHRleHQiLCJzd2FsIiwiJCIsImFqYXhTZXR1cCIsImhlYWRlcnMiLCJYLUNTUkYtVE9LRU4iLCJhdHRyIiwiZG9jdW1lbnQiLCJvbiIsImUiLCJzdG9wUHJvcGFnYXRpb24iLCJyb3dJZCIsInNlbGVjdGVkUm93cyIsImVhY2giLCJwdXNoIiwidGhpcyIsInZhbCIsImxlbmd0aCIsInNlbGVjdGVkUm93c0NvdW50IiwiYnV0dG9ucyIsImluZGV4IiwiaXRlbSIsInZpc2liaWxpdHkiLCJkYXRhIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsInNlbGVjdExpc3RJdGVtIiwicHJvcCIsInNjcm9sbCIsIndpbmRvdyIsInNjcm9sbFRvcCIsImNzcyIsInBvc2l0aW9uIiwiYm90dG9tIiwicmlnaHQiLCJ6LWluZGV4IiwiZmluZCIsInNldE90aGVyVG9DZXJvIiwib3RoZXIiLCJkZWxldGVSZWNvcmQiLCJpZCIsInJvdXRlIiwidGl0bGUiLCJ0ZXh0IiwidHlwZSIsInNob3dDYW5jZWxCdXR0b24iLCJjb25maXJtQnV0dG9uQ29sb3IiLCJjYW5jZWxCdXR0b25Db2xvciIsImNvbmZpcm1CdXR0b25UZXh0IiwiY2FuY2VsQnV0dG9uVGV4dCIsImNvbmZpcm1CdXR0b25DbGFzcyIsImNhbmNlbEJ1dHRvbkNsYXNzIiwiYnV0dG9uc1N0eWxpbmciLCJ0aGVuIiwiYWpheCIsInVybCIsIm1ldGhvZCIsImRhdGFUeXBlIiwiYmVmb3JlU2VuZCIsInN1Y2Nlc3MiLCJoaWRlIiwiY29uc29sZSIsImxvZyIsImVycm9yIiwiaHRtbCIsInJlc3BvbnNlVGV4dCIsImNvbXBsZXRlIiwiZGVsZXRlQW5kUmVsb2FkIiwibG9jYXRpb24iLCJyZWxvYWQiLCJyZW1vdmVGcm9tQ2FydCIsImNhcnRJdGVtSWQiLCJhY3Rpb24iLCJlbGVtZW50IiwicmVzcG9uc2UiLCJyZW1vdmUiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWhCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQWlCLFdBQ0EsV0FBMkIsT0FBQWpCLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFRLEVBQUFDLEdBQXNELE9BQUFSLE9BQUFTLFVBQUFDLGVBQUFqQixLQUFBYyxFQUFBQyxJQUd0RHRCLEVBQUF5QixFQUFBLElBR0F6QixJQUFBMEIsRUFBQSwyRENzVUEsU0FBU0MsRUFBWUMsRUFBU0MsR0FDMUJDLEtBQ0lGLEVBQ0FDLEVBQ0EsU0F2WVJFLEVBQUVDLFdBQ0VDLFNBQ0lDLGVBQWdCSCxFQUFFLDJCQUEyQkksS0FBSyxjQVcxREosRUFBRUssVUFBVUMsR0FBRyxRQUFTLGlCQUFrQixTQUFTQyxHQUVsREEsRUFBRUMsa0JBUUgsU0FBd0JDLEdBRXZCLElBQUlDLEtBQ0pWLEVBQUUsMEJBQTBCVyxLQUFLLFdBQ2hDRCxFQUFhRSxLQUFLWixFQUFFYSxNQUFNVCxLQUFLLFlBQy9CSixFQUFFLGtCQUFrQmMsSUFBSUosS0FJQyxHQUF2QkEsRUFBYUssT0FDZmYsRUFBRSxXQUFXYyxJQUFJSixHQUVqQlYsRUFBRSxXQUFXYyxJQUFJLElBRVEsR0FBdkJKLEVBQWFLLFFBQ2ZmLEVBQUUsa0JBQWtCYyxJQUFJLElBdUNHRSxFQXJDUk4sRUFBYUssT0FzQzdCRSxFQUFVakIsRUFBRSxrQkFFaEJBLEVBQUVXLEtBQUtNLEVBQVMsU0FBVUMsRUFBT0MsR0FDaEMsSUFBSUMsRUFBYXBCLEVBQUVtQixHQUFNRSxLQUFLLGFBRU4sR0FBckJMLEdBQXdDLEtBQWRJLEVBQzVCcEIsRUFBRW1CLEdBQU1HLFlBQVksVUFDWE4sR0FBcUIsR0FBbUIsTUFBZEksRUFDbkNwQixFQUFFbUIsR0FBTUcsWUFBWSxVQUNYTixFQUFvQixHQUFtQixNQUFkSSxFQUNsQ3BCLEVBQUVtQixHQUFNRyxZQUFZLFVBRXBCdEIsRUFBRW1CLEdBQU1JLFNBQVMsWUFicEIsSUFBNkJQLEVBQ3hCQyxFQTVESk8sQ0FBZXhCLEVBQUVhLE1BQU1ULEtBQUssY0EwQjdCSixFQUFFLHlDQUF5Q00sR0FBRyxRQUFTLFdBRXRELElBQUlJLEtBR0FWLEVBQUVhLE1BQU1ZLEtBQUssWUFDaEJ6QixFQUFFLGtCQUFrQnlCLEtBQUssV0FBVyxHQUNqQ3pCLEVBQUUsa0JBQWtCZSxRQUFVLEdBR2hDZixFQUFFLGNBQWNzQixZQUFZLFVBRzdCdEIsRUFBRSxZQUFZdUIsU0FBUyxnQkFHdkJ2QixFQUFFLGtCQUFrQlcsS0FBSyxXQUN4QkQsRUFBYUUsS0FBS1osRUFBRWEsTUFBTVQsS0FBSyxjQUVoQ0osRUFBRSxrQkFBa0JjLElBQUlKLEtBSXhCVixFQUFFLGtCQUFrQnlCLEtBQUssV0FBVyxHQUNwQ3pCLEVBQUUsY0FBY3VCLFNBQVMsVUFDekJ2QixFQUFFLFlBQVlzQixZQUFZLGdCQUcxQnRCLEVBQUUsa0JBQWtCYyxJQUFJLE9BK0kxQmQsRUFBRUssVUFBVXFCLE9BQU8sU0FBU25CLEdBQ1JQLEVBQUUyQixRQUFRQyxZQUVYLEtBQ2pCNUIsRUFBRSxjQUFjNkIsS0FBS0MsU0FBVyxRQUFTQyxPQUFTLE9BQVFDLE1BQVEsT0FBUUMsVUFBVSxRQUNwRmpDLEVBQUUsWUFBWTZCLEtBQUtDLFNBQVcsUUFBU0MsT0FBUyxPQUFRQyxNQUFRLFFBQVNDLFVBQVUsUUFDbkZqQyxFQUFFLHlCQUF5QjZCLEtBQUtDLFNBQVcsUUFBU0MsT0FBUyxPQUFRQyxNQUFRLFFBQVNDLFVBQVUsUUFDaEdqQyxFQUFFLHdCQUF3QjZCLEtBQU1DLFNBQVksUUFBU0MsT0FBVSxPQUFRQyxNQUFTLFFBQVNDLFVBQVcsVUFFcEdqQyxFQUFFLGNBQWM2QixLQUFLQyxTQUFXLFdBQVlDLE9BQVMsT0FBUUMsTUFBUSxPQUFRQyxVQUFVLFFBQ3ZGakMsRUFBRSxZQUFZNkIsS0FBS0MsU0FBVyxXQUFZQyxPQUFTLE9BQVFDLE1BQVEsT0FBUUMsVUFBVSxRQUNyRmpDLEVBQUUseUJBQXlCNkIsS0FBS0MsU0FBVyxXQUFZQyxPQUFTLE9BQVFDLE1BQVEsT0FBUUMsVUFBVSxRQUNsR2pDLEVBQUUsd0JBQXdCNkIsS0FBTUMsU0FBWSxXQUFZQyxPQUFVLE9BQVFDLE1BQVMsT0FBUUMsVUFBVyxXQU92R2pDLEVBQUUsZ0NBQWdDa0MsS0FBSywwQkFBMEJ2QixLQUFLLFdBQ3JFWCxFQUFFYSxNQUFNWSxLQUFLLFdBQVcsS0FXMUJVLGVBQWlCLFNBQVNDLEdBQ3pCcEMsRUFBRW9DLEdBQU90QixJQUFJLElBSWR1QixhQUFlLFNBQVNDLEVBQUlDLEVBQU8xQyxFQUFTQyxHQUMzQ0MsTUFDQ3lDLE1BQU8zQyxFQUNQNEMsS0FBTTNDLEVBQ040QyxLQUFNLFVBQ05DLGtCQUFrQixFQUNsQkMsbUJBQW9CLFVBQ3BCQyxrQkFBbUIsT0FDbkJDLGtCQUFtQixXQUNuQkMsaUJBQWtCLFdBQ2xCQyxtQkFBb0IsZUFDcEJDLGtCQUFtQixhQUNuQkMsZ0JBQWdCLElBQ2RDLEtBQUssV0FFTm5ELEVBQUVvRCxNQUNGQyxJQUFLZCxFQUNMZSxPQUFRLE9BQ1JDLFNBQVUsT0FDVmxDLE1BQVFpQixHQUFJQSxHQUNaa0IsV0FBWSxhQUdaQyxRQUFTLFNBQVNwQyxHQUVqQixHQURBckIsRUFBRSxtQkFBbUJ1QixTQUFTLFVBQ1YsR0FBaEJGLEVBQUtvQyxRQUFpQixDQUV6QixJQURBekQsRUFBRSxNQUFNc0MsR0FBSW9CLEtBQUssS0FDYnJGLEVBQUUsRUFBR0EsRUFBSWlFLEVBQUd2QixPQUFTMUMsSUFDeEIyQixFQUFFLE1BQU1zQyxFQUFHakUsSUFBSXFGLEtBQUssS0FJckIsT0FpR0QzRCxLQW5HVSxNQUFNLHVCQXNHWixXQXJHSDRELFFBQVFDLElBQUl2QyxJQUNMLEVBSVAsT0FGQXpCLEVBQVksT0FBTyxrSUFDbkIrRCxRQUFRQyxJQUFJdkMsSUFDTCxHQUdUd0MsTUFBTyxTQUFTeEMsR0FFSHJCLEVBQUUsVUFBVThELEtBQUt6QyxFQUFLMEMsY0FDbENKLFFBQVFDLElBQUl2QyxJQUViMkMsU0FBVSxrQkFTYkMsZ0JBQWtCLFNBQVMzQixFQUFJQyxFQUFPMUMsRUFBU0MsR0FDOUNDLE1BQ0N5QyxNQUFPM0MsRUFDUDRDLEtBQU0zQyxFQUNONEMsS0FBTSxVQUNOQyxrQkFBa0IsRUFDbEJDLG1CQUFvQixVQUNwQkMsa0JBQW1CLE9BQ25CQyxrQkFBbUIsV0FDbkJDLGlCQUFrQixXQUNsQkMsbUJBQW9CLGVBQ3BCQyxrQkFBbUIsYUFDbkJDLGdCQUFnQixJQUNkQyxLQUFLLFdBQ1BuRCxFQUFFb0QsTUFDREMsSUFBS2QsRUFDTGUsT0FBUSxPQUNSQyxTQUFVLE9BQ1ZsQyxNQUFRaUIsR0FBSUEsR0FDWmtCLFdBQVksYUFHWkMsUUFBUyxTQUFTcEMsR0FFakIsR0FEQXJCLEVBQUUsbUJBQW1CdUIsU0FBUyxVQUNWLEdBQWhCRixFQUFLb0MsUUFNUixPQUZBN0QsRUFBWSxPQUFPLGtJQUNuQitELFFBQVFDLElBQUl2QyxJQUNMLEVBSlA2QyxTQUFTQyxVQU9YTixNQUFPLFNBQVN4QyxHQUVmckIsRUFBRSxVQUFVOEQsS0FBS3pDLEVBQUswQyxjQUN0QkosUUFBUUMsSUFBSXZDLFNBVWhCTSxPQUFPeUMsZUFBaUIsU0FBVTdCLEVBQU84QixFQUFZQyxFQUFRQyxHQUN6RHZFLEVBQUVvRCxNQUNFQyxJQUFLZCxFQUNMZSxPQUFRLE9BQ2RDLFNBQVUsT0FDSmxDLE1BQVFnRCxXQUFZQSxFQUFZQyxPQUFRQSxHQUN4Q2IsUUFBUyxTQUFVcEMsR0FDeEJzQyxRQUFRQyxJQUFJdkMsR0FDa0IsV0FBakJBLEVBQUttRCxTQUNqQkQsRUFBUUUsU0FFUmQsUUFBUUMsSUFBSSxVQUdSQyxNQUFPLFNBQVV4QyxHQUNickIsRUFBRSxVQUFVOEQsS0FBS3pDLEVBQUswQyxjQUN0QkosUUFBUUMsSUFBSSw2QkFDWkQsUUFBUUMsSUFBSXZDIiwiZmlsZSI6Ii9qcy92YWRtaW4tZnVuY3Rpb25zLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiL1wiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDY0KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCA3NzIxNjFmN2U2ODIzMjYxNzY1MyIsIiQuYWpheFNldHVwKHtcclxuICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnWC1DU1JGLVRPS0VOJzogJCgnbWV0YVtuYW1lPVwiY3NyZi10b2tlblwiXScpLmF0dHIoJ2NvbnRlbnQnKVxyXG4gICAgfVxyXG59KTtcclxuIFxyXG4vKlxyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxufCBMSVNUU1xyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuKi9cclxuXHJcbi8vIFNlbGVjdCBjaGVja2JveCB0byBkZWxldGlvblxyXG4kKGRvY3VtZW50KS5vbihcImNsaWNrXCIsIFwiLkxpc3QtQ2hlY2tib3hcIiwgZnVuY3Rpb24oZSlcclxue1xyXG5cdGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblx0Ly8gQ2hlY2tUb0RlbGV0aW9uKFwic2luZ2xlXCIsICQodGhpcykpO1xyXG5cdC8vIENoZWNrVG9TaGlwcGluZygkKHRoaXMpKTtcclxuXHRzZWxlY3RMaXN0SXRlbSgkKHRoaXMpLmF0dHIoJ2RhdGEtaWQnKSk7XHJcblx0XHJcbn0pO1xyXG5cclxuLy8gU2VsZWN0IHJvd3Mgb24gYSBsaXN0XHJcbmZ1bmN0aW9uIHNlbGVjdExpc3RJdGVtKHJvd0lkKSB7XHJcblx0XHJcblx0dmFyIHNlbGVjdGVkUm93cyA9IFtdO1xyXG5cdCQoXCIuTGlzdC1DaGVja2JveDpjaGVja2VkXCIpLmVhY2goZnVuY3Rpb24oKSB7ICAgICAgICAgIFxyXG5cdFx0c2VsZWN0ZWRSb3dzLnB1c2goJCh0aGlzKS5hdHRyKCdkYXRhLWlkJykpO1xyXG5cdFx0JCgnI1NlbGVjdGVkSXRlbXMnKS52YWwoc2VsZWN0ZWRSb3dzKTtcclxuXHR9KTtcclxuXHJcblx0Ly8gU2VsZWN0IHNpbmdsZSBpdGVtIGZvciBlZGl0aW9uXHJcblx0aWYoc2VsZWN0ZWRSb3dzLmxlbmd0aCA9PSAxKVxyXG5cdFx0JCgnI0VkaXRJZCcpLnZhbChzZWxlY3RlZFJvd3MpO1xyXG5cdGVsc2VcclxuXHRcdCQoJyNFZGl0SWQnKS52YWwoJycpO1xyXG5cdFxyXG5cdGlmKHNlbGVjdGVkUm93cy5sZW5ndGggPT0gMClcclxuXHRcdCQoJyNTZWxlY3RlZEl0ZW1zJykudmFsKCcnKTtcclxuXHJcblx0dG9nZ2xlQWN0aW9uQnV0dG9ucyhzZWxlY3RlZFJvd3MubGVuZ3RoKTtcclxufVxyXG5cclxuLy8gU2VsZWN0IGFsbCByb3dzIG9uIGEgbGlzdFxyXG4kKCcjU2VsZWN0QWxsUm93cywgLlNlbGVjdC1BbGwtVG8tRGVsZXRlJykub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuXHRcclxuXHRsZXQgc2VsZWN0ZWRSb3dzID0gW107XHJcblxyXG5cdC8vIFNlbGVjdCBhbGwgaXRlbXNcclxuXHRpZiAoJCh0aGlzKS5wcm9wKCdjaGVja2VkJykpIHtcclxuXHRcdCQoJy5MaXN0LUNoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIHRydWUpO1xyXG5cdFx0aWYoJCgnLkxpc3QtQ2hlY2tib3gnKS5sZW5ndGggPj0gMSlcclxuXHRcdHtcclxuXHRcdFx0Ly8gQ2hlY2tUb0RlbGV0aW9uKFwiYWxsXCIpXHJcblx0XHRcdCQoJy5EZWxldGVCdG4nKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0JCgndGJvZHkgdHInKS5hZGRDbGFzcygncm93LXNlbGVjdGVkJyk7XHJcblxyXG5cdFx0Ly8gRmlsbCBzZWxlY3RlZCBpdGVtcyBhcnJheSBmb3IgYWN0aW9ucyAoRGVsZXRlLCBleHBvcnQsIGV0Yy4pXHJcblx0XHQkKFwiLkxpc3QtQ2hlY2tib3hcIikuZWFjaChmdW5jdGlvbigpIHsgICAgICAgICAgXHJcblx0XHRcdHNlbGVjdGVkUm93cy5wdXNoKCQodGhpcykuYXR0cignZGF0YS1pZCcpKTtcclxuXHRcdH0pO1xyXG5cdFx0JCgnI1NlbGVjdGVkSXRlbXMnKS52YWwoc2VsZWN0ZWRSb3dzKTtcclxuXHJcblx0Ly8gRGVzZWxlY3QgYWxsIGl0ZW1zXHJcblx0fSBlbHNlIHtcclxuXHRcdCQoJy5MaXN0LUNoZWNrYm94JykucHJvcCgnY2hlY2tlZCcsIGZhbHNlKTtcclxuXHRcdCQoJy5EZWxldGVCdG4nKS5hZGRDbGFzcygnSGlkZGVuJyk7XHJcblx0XHQkKCd0Ym9keSB0cicpLnJlbW92ZUNsYXNzKCdyb3ctc2VsZWN0ZWQnKTtcclxuXHJcblx0XHQvLyBFbXB0eSBzZWxlY3RlZCBpdGVtcyBhcnJheVxyXG5cdFx0JCgnI1NlbGVjdGVkSXRlbXMnKS52YWwoJycpO1xyXG5cdH1cclxufSk7XHJcblxyXG5cclxuZnVuY3Rpb24gdG9nZ2xlQWN0aW9uQnV0dG9ucyhzZWxlY3RlZFJvd3NDb3VudCkge1xyXG5cdGxldCBidXR0b25zID0gJCgnLkxpc3RBY3Rpb25CdG4nKTtcclxuXHRcclxuXHQkLmVhY2goYnV0dG9ucywgZnVuY3Rpb24gKGluZGV4LCBpdGVtKSB7XHJcblx0XHRsZXQgdmlzaWJpbGl0eSA9ICQoaXRlbSkuZGF0YSgndmlzaWJsZWlmJyk7XHJcblx0XHRcclxuXHRcdGlmKHNlbGVjdGVkUm93c0NvdW50ID09IDEgJiYgdmlzaWJpbGl0eSA9PSAnMScgKSB7XHJcblx0XHRcdCQoaXRlbSkucmVtb3ZlQ2xhc3MoJ0hpZGRlbicpO1xyXG5cdFx0fSBlbHNlIGlmKHNlbGVjdGVkUm93c0NvdW50ID49IDIgJiYgdmlzaWJpbGl0eSA9PSAnPjInKSB7XHJcblx0XHRcdCQoaXRlbSkucmVtb3ZlQ2xhc3MoJ0hpZGRlbicpO1xyXG5cdFx0fSBlbHNlIGlmKHNlbGVjdGVkUm93c0NvdW50ID4gMCAmJiB2aXNpYmlsaXR5ID09ICc+MCcpIHtcclxuXHRcdFx0JChpdGVtKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHQkKGl0ZW0pLmFkZENsYXNzKCdIaWRkZW4nKTtcclxuXHRcdH1cclxuXHJcblx0fSk7XHJcblxyXG5cdC8vICQoJy5MaXN0QWN0aW9uQnRuJykuZWFjaChmdW5jdGlvbihlKSB7ICAgICAgICAgIFxyXG5cdC8vIFx0Y29uc29sZS5sb2codGhpcy5kYXRhKCkpO1xyXG5cdC8vIH0pO1xyXG5cclxuXHJcblx0Ly8gaWYoc2VsZWN0ZWRSb3dzID09IDEpIHtcclxuICAgIC8vICAgICAkKCcuRGVsZXRlQnRuJykucmVtb3ZlQ2xhc3MoJ0hpZGRlbicpO1xyXG5cdC8vIFx0JCgnLkVkaXRCdG4nKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcblx0Ly8gXHQkKCcuQ3JlYXRlRnJvbUFub3RoZXJCdG4nKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcblx0Ly8gXHQkKCcuRXhwb3J0U2VsZWN0ZWRCdG4nKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcblx0Ly8gXHQkKCcuRXhwb3J0VG9TaGlwcGluZ0J0bicpLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuXHQvLyB9IGVsc2UgaWYoc2VsZWN0ZWRSb3dzID49IDIpIHtcclxuXHQvLyBcdCQoJy5FZGl0QnRuJykuYWRkQ2xhc3MoJ0hpZGRlbicpO1xyXG5cdC8vIFx0JCgnLkNyZWF0ZUZyb21Bbm90aGVyQnRuJykuYWRkQ2xhc3MoJ0hpZGRlbicpO1xyXG4gICAgLy8gfSBlbHNlIGlmKHNlbGVjdGVkUm93cyA+IDAgKSB7XHJcblx0Ly8gXHQkKCcuRXhwb3J0VG9TaGlwcGluZ0J0bicpLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuXHQvLyB9IGVsc2UgaWYoc2VsZWN0ZWRSb3dzID09IDApIHtcclxuXHQvLyBcdCQoJy5EZWxldGVCdG4nKS5hZGRDbGFzcygnSGlkZGVuJyk7XHJcblx0Ly8gXHQkKCcuRWRpdEJ0bicpLmFkZENsYXNzKCdIaWRkZW4nKTtcclxuXHQvLyBcdCQoJy5DcmVhdGVGcm9tQW5vdGhlckJ0bicpLmFkZENsYXNzKCdIaWRkZW4nKTtcclxuXHQvLyBcdCQoJy5FeHBvcnRTZWxlY3RlZEJ0bicpLmFkZENsYXNzKCdIaWRkZW4nKTtcclxuXHQvLyBcdCQoJy5FeHBvcnRUb1NoaXBwaW5nQnRuJykuYWRkQ2xhc3MoJ0hpZGRlbicpO1xyXG5cdC8vIH1cclxufVxyXG5cclxuLy8gU2VsZWN0IEFsbCBwcmVzZW50IGNoZWNrYm94ZXMgdG8gZGVsZXRpb25cclxuLy8gJCgnLlNlbGVjdC1BbGwtVG8tRGVsZXRlJykub24oXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuLy8gXHRjb25zb2xlLmxvZygkKHRoaXMpKTtcdFxyXG4vLyBcdGlmICgkKHRoaXMpLnByb3AoJ2NoZWNrZWQnKSkge1xyXG4vLyBcdFx0JCgnLkxpc3QtQ2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgdHJ1ZSk7XHJcbi8vIFx0XHRpZigkKCcuTGlzdC1DaGVja2JveCcpLmxlbmd0aCA+PSAxKVxyXG4vLyBcdFx0e1xyXG4vLyBcdFx0XHRDaGVja1RvRGVsZXRpb24oXCJhbGxcIilcclxuLy8gXHRcdFx0JCgnLkRlbGV0ZUJ0bicpLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuLy8gXHRcdH1cclxuXHJcbi8vIFx0XHQkKCd0Ym9keSB0cicpLmFkZENsYXNzKCdyb3ctc2VsZWN0ZWQnKTtcclxuLy8gXHR9IGVsc2Uge1xyXG4vLyBcdFx0JCgnLkxpc3QtQ2hlY2tib3gnKS5wcm9wKCdjaGVja2VkJywgZmFsc2UpO1xyXG4vLyBcdFx0JCgnLkRlbGV0ZUJ0bicpLmFkZENsYXNzKCdIaWRkZW4nKTtcclxuLy8gXHRcdCQoJ3Rib2R5IHRyJykucmVtb3ZlQ2xhc3MoJ3Jvdy1zZWxlY3RlZCcpO1xyXG4vLyBcdH1cclxuLy8gfSk7XHJcblxyXG5cclxuLy8gZnVuY3Rpb24gQ2hlY2tUb1NoaXBwaW5nKGlkKVxyXG4vLyB7XHJcbi8vIFx0dmFyIHNlbGVjdGVkUm93cyA9IFtdO1xyXG4vLyBcdCQoXCIuTGlzdC1DaGVja2JveDpjaGVja2VkXCIpLmVhY2goZnVuY3Rpb24oKSB7ICAgICAgICAgIFxyXG4vLyBcdFx0c2VsZWN0ZWRSb3dzLnB1c2goJCh0aGlzKS5hdHRyKCdkYXRhLWlkJykpO1xyXG4vLyBcdFx0JCgnI1Jvd3NUb1NoaXBwaW5nJykudmFsKHNlbGVjdGVkUm93cyk7XHJcbi8vIFx0fSk7XHJcblxyXG4vLyBcdCQoJyNSb3dzVG9FeHBvcnQnKS52YWwoc2VsZWN0ZWRSb3dzKTtcclxuLy8gXHRpZihzZWxlY3RlZFJvd3MubGVuZ3RoID09IDApe1xyXG4vLyBcdFx0JCgnI0VkaXRJZCwgI1Jvd3NUb1NoaXBwaW5nJykudmFsKCcnKTtcclxuLy8gXHR9IFx0XHJcbi8vIH1cclxuXHJcbi8vIGZ1bmN0aW9uIENoZWNrVG9EZWxldGlvbih0eXBlLCByb3cpXHJcbi8vIHtcclxuLy8gXHQvLyBjb25zb2xlLmxvZyh0eXBlLCByb3cpO1xyXG4vLyBcdHZhciBzZWxlY3RlZFJvd3MgPSBbXTtcclxuLy8gXHQkKFwiLkxpc3QtQ2hlY2tib3g6Y2hlY2tlZFwiKS5lYWNoKGZ1bmN0aW9uKCkgeyAgICAgICAgICBcclxuLy8gXHRcdHNlbGVjdGVkUm93cy5wdXNoKCQodGhpcykuYXR0cignZGF0YS1pZCcpKTtcclxuLy8gXHRcdCQoJyNSb3dzVG9EZWxldGlvbicpLnZhbChzZWxlY3RlZFJvd3MpO1xyXG4vLyBcdH0pO1xyXG5cclxuXHJcbi8vIFx0JCgnI1Jvd3NUb0V4cG9ydCcpLnZhbChzZWxlY3RlZFJvd3MpO1xyXG4vLyBcdGlmKHNlbGVjdGVkUm93cy5sZW5ndGggPT0gMSl7XHJcbi8vIFx0XHQkKCcjRWRpdElkLCAjQ3JlYXRlRnJvbUFub3RoZXJJZCcpLnZhbChzZWxlY3RlZFJvd3MpO1xyXG4vLyBcdH0gZWxzZSBpZihzZWxlY3RlZFJvd3MubGVuZ3RoIDwgMSl7XHJcbi8vIFx0XHQkKCcjRWRpdElkLCAjQ3JlYXRlRnJvbUFub3RoZXJJZCcpLnZhbCgnJyk7XHJcbi8vIFx0fSBlbHNlIGlmKHNlbGVjdGVkUm93cy5sZW5ndGggPiAxKXtcclxuLy8gXHRcdCQoJyNFZGl0SWQsICNDcmVhdGVGcm9tQW5vdGhlcklkJykudmFsKCcnKTtcclxuLy8gXHR9IGVsc2Uge1xyXG4vLyBcdFx0JCgnI0VkaXRJZCwgI0NyZWF0ZUZyb21Bbm90aGVySWQnKS52YWwoJycpO1xyXG4vLyBcdH1cclxuXHJcbi8vIFx0dG9nZ2xlQWN0aW9uQnV0dG9ucyhzZWxlY3RlZFJvd3MubGVuZ3RoKTtcclxuXHJcbi8vIFx0Ly8gc2hvd0J1dHRvbnModGhpcyk7XHJcbi8vIFx0Ly8gaWYodHlwZSA9PSAnc2luZ2xlJyAmJiByb3cgIT0gdW5kZWZpbmVkKVxyXG4vLyBcdC8vIHtcclxuLy8gXHQvLyBcdHZhciBjaGVja2JveCA9IHJvdy5wcm9wKCdjaGVja2VkJyk7XHJcbi8vIFx0Ly8gXHRpZihjaGVja2JveCl7XHJcbi8vIFx0Ly8gXHRcdHJvdy5wYXJlbnQoKS5wYXJlbnQoKS5wYXJlbnQoKS5hZGRDbGFzcygncm93LXNlbGVjdGVkJyk7XHJcbi8vIFx0Ly8gXHR9IGVsc2Uge1xyXG4vLyBcdC8vIFx0XHRyb3cucGFyZW50KCkucGFyZW50KCkucGFyZW50KCkucmVtb3ZlQ2xhc3MoJ3Jvdy1zZWxlY3RlZCcpO1xyXG4vLyBcdC8vIFx0fVxyXG4vLyBcdC8vIH1cclxuLy8gfVxyXG5cclxuLy8gZnVuY3Rpb24gc2hvd0J1dHRvbnModHJpZ2dlcikge1xyXG5cclxuLy8gXHR2YXIgY291bnRTZWxlY3RlZCA9ICQoJy5MaXN0LUNoZWNrYm94OmNoZWNrYm94OmNoZWNrZWQnKS5sZW5ndGg7XHJcblxyXG4vLyBcdGlmKGNvdW50U2VsZWN0ZWQgPT0gMSkge1xyXG4vLyAgICAgICAgICQoJy5EZWxldGVCdG4nKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcbi8vIFx0XHQkKCcuRWRpdEJ0bicpLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuLy8gXHRcdCQoJy5DcmVhdGVGcm9tQW5vdGhlckJ0bicpLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuLy8gXHRcdCQoJy5FeHBvcnRTZWxlY3RlZEJ0bicpLnJlbW92ZUNsYXNzKCdIaWRkZW4nKTtcclxuLy8gXHRcdCQoJy5FeHBvcnRUb1NoaXBwaW5nQnRuJykucmVtb3ZlQ2xhc3MoJ0hpZGRlbicpO1xyXG4vLyBcdH0gZWxzZSBpZihjb3VudFNlbGVjdGVkID4gMCApIHtcclxuLy8gXHRcdCQoJy5FeHBvcnRUb1NoaXBwaW5nQnRuJykucmVtb3ZlQ2xhc3MoJ0hpZGRlbicpO1xyXG4vLyBcdH0gZWxzZSBpZihjb3VudFNlbGVjdGVkID49IDIpIHtcclxuLy8gXHRcdCQoJy5FZGl0QnRuJykuYWRkQ2xhc3MoJ0hpZGRlbicpO1xyXG4vLyBcdFx0JCgnLkNyZWF0ZUZyb21Bbm90aGVyQnRuJykuYWRkQ2xhc3MoJ0hpZGRlbicpO1xyXG4vLyAgICAgfSBlbHNlIGlmKGNvdW50U2VsZWN0ZWQgPT0gMCkge1xyXG4vLyBcdFx0JCgnLkRlbGV0ZUJ0bicpLmFkZENsYXNzKCdIaWRkZW4nKTtcclxuLy8gXHRcdCQoJy5FZGl0QnRuJykuYWRkQ2xhc3MoJ0hpZGRlbicpO1xyXG4vLyBcdFx0JCgnLkNyZWF0ZUZyb21Bbm90aGVyQnRuJykuYWRkQ2xhc3MoJ0hpZGRlbicpO1xyXG4vLyBcdFx0JCgnLkV4cG9ydFNlbGVjdGVkQnRuJykuYWRkQ2xhc3MoJ0hpZGRlbicpO1xyXG4vLyBcdFx0JCgnLkV4cG9ydFRvU2hpcHBpbmdCdG4nKS5hZGRDbGFzcygnSGlkZGVuJyk7XHJcbi8vIFx0fVxyXG5cdFxyXG4vLyB9XHJcblxyXG4vLyBTaG93IEVkaXQgYW5kIERlbGV0ZSBidXR0b25zIGluIGJvdHRvbSBpZiBzY3JvbGxlZCB0byBtdXRjaFxyXG4kKGRvY3VtZW50KS5zY3JvbGwoZnVuY3Rpb24oZSl7XHJcblx0dmFyIHNjcm9sbEFtb3VudCA9ICQod2luZG93KS5zY3JvbGxUb3AoKTtcclxuXHQvLyBUaGlzIGlzIFZFUlkgQVJDSEFJQy4uLiBET07CtFQgSlVER0UgTUUuXHJcblx0aWYoc2Nyb2xsQW1vdW50ID4gMTUwKXtcclxuXHRcdCQoJy5EZWxldGVCdG4nKS5jc3Moe1wicG9zaXRpb25cIjpcImZpeGVkXCIsIFwiYm90dG9tXCI6XCI1MHB4XCIsIFwicmlnaHRcIjpcIjEwcHhcIiwgXCJ6LWluZGV4XCI6XCI5OTlcIn0pO1xyXG5cdFx0JCgnLkVkaXRCdG4nKS5jc3Moe1wicG9zaXRpb25cIjpcImZpeGVkXCIsIFwiYm90dG9tXCI6XCI1MHB4XCIsIFwicmlnaHRcIjpcIjEzMHB4XCIsIFwiei1pbmRleFwiOlwiOTk5XCJ9KTtcclxuXHRcdCQoJy5DcmVhdGVGcm9tQW5vdGhlckJ0bicpLmNzcyh7XCJwb3NpdGlvblwiOlwiZml4ZWRcIiwgXCJib3R0b21cIjpcIjUwcHhcIiwgXCJyaWdodFwiOlwiMjM1cHhcIiwgXCJ6LWluZGV4XCI6XCI5OTlcIn0pO1xyXG5cdFx0JCgnLkV4cG9ydFRvU2hpcHBpbmdCdG4nKS5jc3MoeyBcInBvc2l0aW9uXCI6IFwiZml4ZWRcIiwgXCJib3R0b21cIjogXCI1MHB4XCIsIFwicmlnaHRcIjogXCIyMzZweFwiLCBcInotaW5kZXhcIjogXCI5OTlcIiB9KTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0JCgnLkRlbGV0ZUJ0bicpLmNzcyh7XCJwb3NpdGlvblwiOlwicmVsYXRpdmVcIiwgXCJib3R0b21cIjpcImF1dG9cIiwgXCJyaWdodFwiOlwiYXV0b1wiLCBcInotaW5kZXhcIjpcIjk5OVwifSk7XHJcblx0XHQkKCcuRWRpdEJ0bicpLmNzcyh7XCJwb3NpdGlvblwiOlwicmVsYXRpdmVcIiwgXCJib3R0b21cIjpcImF1dG9cIiwgXCJyaWdodFwiOlwiYXV0b1wiLCBcInotaW5kZXhcIjpcIjk5OVwifSk7XHJcblx0XHQkKCcuQ3JlYXRlRnJvbUFub3RoZXJCdG4nKS5jc3Moe1wicG9zaXRpb25cIjpcInJlbGF0aXZlXCIsIFwiYm90dG9tXCI6XCJhdXRvXCIsIFwicmlnaHRcIjpcImF1dG9cIiwgXCJ6LWluZGV4XCI6XCI5OTlcIn0pO1xyXG5cdFx0JCgnLkV4cG9ydFRvU2hpcHBpbmdCdG4nKS5jc3MoeyBcInBvc2l0aW9uXCI6IFwicmVsYXRpdmVcIiwgXCJib3R0b21cIjogXCJhdXRvXCIsIFwicmlnaHRcIjogXCJhdXRvXCIsIFwiei1pbmRleFwiOiBcIjk5OVwiIH0pO1xyXG5cdFx0XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIFVuY2hlY2sgYWxsIGNoZWNrYm94ZXMgb24gcmVsb2FkLlxyXG5mdW5jdGlvbiB1bmNoZWNrQWxsKCl7XHJcblx0JCgnI1RhYmxlTGlzdCB0Ym9keSAuQ2hlY2tCb3hlcycpLmZpbmQoJ2lucHV0W3R5cGU9XCJjaGVja2JveFwiXScpLmVhY2goZnVuY3Rpb24oKSB7XHJcblx0XHQkKHRoaXMpLnByb3AoJ2NoZWNrZWQnLCBmYWxzZSk7XHRcclxuXHR9KTtcdFxyXG59XHJcbnVuY2hlY2tBbGwoKTtcclxuXHJcbi8qXHJcbnwtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG58IEZVTkNUSU9OU1xyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuKi9cclxuLy8gUmVjZWl2ZSBJRCB3aXRoICNcclxuc2V0T3RoZXJUb0Nlcm8gPSBmdW5jdGlvbihvdGhlcikge1xyXG5cdCQob3RoZXIpLnZhbCgwKTtcclxufVxyXG5cclxuLy8gRGVsZXRlIHJvd3NcclxuZGVsZXRlUmVjb3JkID0gZnVuY3Rpb24oaWQsIHJvdXRlLCBiaWd0ZXh0LCBzbWFsbHRleHQpIHtcclxuXHRzd2FsKHtcclxuXHRcdHRpdGxlOiBiaWd0ZXh0LFxyXG5cdFx0dGV4dDogc21hbGx0ZXh0LFxyXG5cdFx0dHlwZTogJ3dhcm5pbmcnLFxyXG5cdFx0c2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuXHRcdGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLFxyXG5cdFx0Y2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJyxcclxuXHRcdGNvbmZpcm1CdXR0b25UZXh0OiAnRUxJTUlOQVInLFxyXG5cdFx0Y2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbGFyJyxcclxuXHRcdGNvbmZpcm1CdXR0b25DbGFzczogJ2J0biBidG5HcmVlbicsXHJcblx0XHRjYW5jZWxCdXR0b25DbGFzczogJ2J0biBidG5SZWQnLFxyXG5cdFx0YnV0dG9uc1N0eWxpbmc6IGZhbHNlXHJcblx0fSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblxyXG4gXHRcdCQuYWpheCh7XHJcblx0XHRcdHVybDogcm91dGUsXHJcblx0XHRcdG1ldGhvZDogJ1BPU1QnLCAgICAgICAgICAgICBcclxuXHRcdFx0ZGF0YVR5cGU6ICdKU09OJyxcclxuXHRcdFx0ZGF0YTogeyBpZDogaWQgfSxcclxuXHRcdFx0YmVmb3JlU2VuZDogZnVuY3Rpb24oKXtcclxuXHRcdFx0XHQvLyAkKCcjTWFpbi1Mb2FkZXInKS5yZW1vdmVDbGFzcygnSGlkZGVuJyk7XHJcblx0XHRcdH0sXHJcblx0XHRcdHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xyXG5cdFx0XHRcdCQoJyNCYXRjaERlbGV0ZUJ0bicpLmFkZENsYXNzKCdIaWRkZW4nKTtcclxuXHRcdFx0XHRpZiAoZGF0YS5zdWNjZXNzID09IHRydWUpIHtcclxuXHRcdFx0XHRcdCQoJyNJZCcraWQpLmhpZGUoMjAwKTtcclxuXHRcdFx0XHRcdGZvcihpPTA7IGkgPCBpZC5sZW5ndGggOyBpKyspe1xyXG5cdFx0XHRcdFx0XHQkKCcjSWQnK2lkW2ldKS5oaWRlKDIwMCk7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRhbGVydF9vaygnT2shJywnRWxpbWluYWNpw7NuIGNvbXBsZXRhJyk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRhbGVydF9lcnJvcignVXBzIScsJ0hhIG9jdXJyaWRvIHVuIGVycm9yIChQdWVkZSBxdWUgZXN0ZSByZWdpc3RybyB0ZW5nYSByZWxhY2nDs24gY29uIG90cm9zIGl0ZW1zIGVuIGVsIHNpc3RlbWEpLiBEZWJlIGVsaW1pbmFyIHByaW1lcm8gbG9zIG1pc21vcy4nKTtcclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0ZXJyb3I6IGZ1bmN0aW9uKGRhdGEpXHJcblx0XHRcdHtcclxuICAgICAgICAgICAgICAgICQoJyNFcnJvcicpLmh0bWwoZGF0YS5yZXNwb25zZVRleHQpO1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1x0XHJcblx0XHRcdH0sXHJcblx0XHRcdGNvbXBsZXRlOiBmdW5jdGlvbigpXHJcblx0XHRcdHtcclxuXHRcdFx0XHQvLyAkKCcjTWFpbi1Mb2FkZXInKS5hZGRDbGFzcygnSGlkZGVuJyk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdH0pO1xyXG5cclxufVxyXG5cclxuZGVsZXRlQW5kUmVsb2FkID0gZnVuY3Rpb24oaWQsIHJvdXRlLCBiaWd0ZXh0LCBzbWFsbHRleHQpIHtcclxuXHRzd2FsKHtcclxuXHRcdHRpdGxlOiBiaWd0ZXh0LFxyXG5cdFx0dGV4dDogc21hbGx0ZXh0LFxyXG5cdFx0dHlwZTogJ3dhcm5pbmcnLFxyXG5cdFx0c2hvd0NhbmNlbEJ1dHRvbjogdHJ1ZSxcclxuXHRcdGNvbmZpcm1CdXR0b25Db2xvcjogJyMzMDg1ZDYnLFxyXG5cdFx0Y2FuY2VsQnV0dG9uQ29sb3I6ICcjZDMzJyxcclxuXHRcdGNvbmZpcm1CdXR0b25UZXh0OiAnRUxJTUlOQVInLFxyXG5cdFx0Y2FuY2VsQnV0dG9uVGV4dDogJ0NhbmNlbGFyJyxcclxuXHRcdGNvbmZpcm1CdXR0b25DbGFzczogJ2J0biBidG5HcmVlbicsXHJcblx0XHRjYW5jZWxCdXR0b25DbGFzczogJ2J0biBidG5SZWQnLFxyXG5cdFx0YnV0dG9uc1N0eWxpbmc6IGZhbHNlXHJcblx0fSkudGhlbihmdW5jdGlvbiAoKSB7XHJcblx0XHQkLmFqYXgoe1xyXG5cdFx0XHR1cmw6IHJvdXRlLFxyXG5cdFx0XHRtZXRob2Q6ICdQT1NUJywgICAgICAgICAgICAgXHJcblx0XHRcdGRhdGFUeXBlOiAnSlNPTicsXHJcblx0XHRcdGRhdGE6IHsgaWQ6IGlkIH0sXHJcblx0XHRcdGJlZm9yZVNlbmQ6IGZ1bmN0aW9uKCl7XHJcblx0XHRcdFx0Ly8gJCgnI01haW4tTG9hZGVyJykucmVtb3ZlQ2xhc3MoJ0hpZGRlbicpO1xyXG5cdFx0XHR9LFxyXG5cdFx0XHRzdWNjZXNzOiBmdW5jdGlvbihkYXRhKXtcclxuXHRcdFx0XHQkKCcjQmF0Y2hEZWxldGVCdG4nKS5hZGRDbGFzcygnSGlkZGVuJyk7XHJcblx0XHRcdFx0aWYgKGRhdGEuc3VjY2VzcyA9PSB0cnVlKSB7XHJcblx0XHRcdFx0XHQvLyBhbGVydF9vaygnT2shJywnRWxpbWluYWNpw7NuIGNvbXBsZXRhJyk7XHJcblx0XHRcdFx0XHRsb2NhdGlvbi5yZWxvYWQoKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0YWxlcnRfZXJyb3IoJ1VwcyEnLCdIYSBvY3VycmlkbyB1biBlcnJvciAoUHVlZGUgcXVlIGVzdGUgcmVnaXN0cm8gdGVuZ2EgcmVsYWNpw7NuIGNvbiBvdHJvcyBpdGVtcyBlbiBlbCBzaXN0ZW1hKS4gRGViZSBlbGltaW5hciBwcmltZXJvIGxvcyBtaXNtb3MuJyk7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhkYXRhKTtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdGVycm9yOiBmdW5jdGlvbihkYXRhKVxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JCgnI0Vycm9yJykuaHRtbChkYXRhLnJlc3BvbnNlVGV4dCk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coZGF0YSk7XHRcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fSk7XHJcblxyXG59XHJcblxyXG5cclxuLy8gUmVtb3ZlIHByb2R1Y3QgZnJvbSBjYXJ0XHJcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxud2luZG93LnJlbW92ZUZyb21DYXJ0ID0gZnVuY3Rpb24gKHJvdXRlLCBjYXJ0SXRlbUlkLCBhY3Rpb24sIGVsZW1lbnQpIHtcclxuICAgICQuYWpheCh7XHJcbiAgICAgICAgdXJsOiByb3V0ZSxcclxuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuXHRcdGRhdGFUeXBlOiAnSlNPTicsXHJcbiAgICAgICAgZGF0YTogeyBjYXJ0SXRlbUlkOiBjYXJ0SXRlbUlkLCBhY3Rpb246IGFjdGlvbiB9LFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChkYXRhKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICBpZiAoZGF0YS5yZXNwb25zZSA9PSAnc3VjY2VzcycpIHtcclxuXHRcdFx0XHRlbGVtZW50LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiRVJST1JcIik7XHJcblx0XHRcdH0gIFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgICQoJyNFcnJvcicpLmh0bWwoZGF0YS5yZXNwb25zZVRleHQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIkVycm9yIGVuIHJlbW92ZUZyb21DYXJ0KClcIik7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEpO1xyXG4gICAgICAgICAgICAvLyBJZiBhbiBlcnJvciBwb3BzIHdoZW4gZGVzdHJveWluZyBhbiBpdGVtLCByZWxvYWQgYW5kIHByZXZlbnQgYmFkIG1hZ2ljXHJcbiAgICAgICAgICAgIC8vIGxvY2F0aW9uLnJlbG9hZCgpO1xyXG5cdFx0fVxyXG4gICAgfSk7XHRcclxufVxyXG4vKlxyXG58LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxufCBBTEVSVFNcclxufC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiovXHJcblxyXG5mdW5jdGlvbiBhbGVydF9vayhiaWd0ZXh0LCBzbWFsbHRleHQpe1xyXG4gICAgc3dhbChcclxuICAgICAgICBiaWd0ZXh0LFxyXG4gICAgICAgIHNtYWxsdGV4dCxcclxuICAgICAgICAnc3VjY2VzcydcclxuICAgICk7ICAgIFxyXG59XHJcbiAgICBcclxuZnVuY3Rpb24gYWxlcnRfZXJyb3IoYmlndGV4dCwgc21hbGx0ZXh0KXtcclxuICAgIHN3YWwoXHJcbiAgICAgICAgYmlndGV4dCxcclxuICAgICAgICBzbWFsbHRleHQsXHJcbiAgICAgICAgJ2Vycm9yJ1xyXG4gICAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWxlcnRfaW5mbyhiaWd0ZXh0LCBzbWFsbHRleHQpe1xyXG5cclxuICAgIHN3YWwoe1xyXG4gICAgICAgICAgICB0aXRsZTogYmlndGV4dCxcclxuICAgICAgICB0eXBlOiAnaW5mbycsXHJcbiAgICAgICAgaHRtbDogc21hbGx0ZXh0LFxyXG4gICAgICAgIHNob3dDbG9zZUJ1dHRvbjogdHJ1ZSxcclxuICAgICAgICBzaG93Q2FuY2VsQnV0dG9uOiBmYWxzZSxcclxuICAgICAgICBjb25maXJtQnV0dG9uVGV4dDpcclxuICAgICAgICAgICAgJzxpIGNsYXNzPVwiaW9uLWNoZWNrbWFyay1yb3VuZFwiPjwvaT4gT2shJ1xyXG4gICAgICAgIH0pO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gY2xvc2VQYXJlbnQoKXtcclxuXHQkKHRoaXMpLnBhcmVudCgnaGlkZScpO1xyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9yZXNvdXJjZXMvYXNzZXRzL2pzL3ZhZG1pbi1mdW5jdGlvbnMuanMiXSwic291cmNlUm9vdCI6IiJ9